if (self.CavalryLogger) { CavalryLogger.start_js(["jasjl"]); }

__d("CometStarsVirtualGiftView.react",["ix","CometImage.react","React","TetraText.react","asset","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");function a(a){var c=a.giftAnimatedImage,d=a.isSelected,e=a.starsAmount;a=a.tier;return i.jsxs("div",{className:(h||(h=b("stylex"))).dedupe({"display-1":"j83agx80","flex-direction-1":"cbu4d94t","justify-content-1":"i1fnvgqd","padding-top-1":"pybr56ya","padding-end-1":"rz4wbd8a","padding-bottom-1":"f10w8fjw","padding-start-1":"a8nywdso"},a==="LARGE"?{"height-1":"mosphszs","width-1":"izv4vf8l"}:null,a==="MEDIUM"?{"height-1":"mosphszs","width-1":"izv4vf8l"}:null,a==="SMALL"?{"height-1":"pe468gzs","width-1":"tuwtu1qs"}:null,d?{"box-shadow-1":"hrm8yls5"}:null),children:[i.jsx(b("CometImage.react"),{className:h.dedupe({"margin-top-1":"kvgmc6g5","margin-end-1":"ad2k81qe","margin-bottom-1":"oygrvhab","margin-start-1":"f9o22wc5"},a==="LARGE"?{"width-1":"qddtkmgn"}:null,a==="MEDIUM"?{"width-1":"g5mibhkg"}:null,a==="SMALL"?{"width-1":"r1eg49ei"}:null),src:c}),i.jsxs("div",{align:"center",className:h.dedupe({"align-items-1":"bp9cbjyn","background-color-1":"d1q1lyhi","border-top-start-radius-1":"lit7pgxp","border-top-end-radius-1":"o3c63hce","border-bottom-end-radius-1":"hqlzco19","border-bottom-start-radius-1":"lsl2245n","display-1":"j83agx80","height-1":"rgmg9uty","justify-content-1":"gt1oanoe","margin-top-1":"kvgmc6g5","margin-end-1":"ad2k81qe","margin-bottom-1":"oygrvhab","margin-start-1":"f9o22wc5","padding-top-1":"jb3vyjys","padding-end-1":"d1544ag0","padding-bottom-1":"qt6c0cv9","padding-start-1":"tw6a2znq"},a==="LARGE"?{"background-color-1":"mlc9a98j"}:null),justify:"evenly",children:[i.jsx(b("CometImage.react"),{className:"qq4y78aw",src:a==="LARGE"?g("647916"):g("852669")}),i.jsx(b("TetraText.react"),{color:a==="LARGE"?"white":"secondary",type:"bodyLink3",children:e})]})]})}e.exports=a}),null);
__d("LeftNavFitToHeight",["csx","cx","Arbiter","Bootloader","CSS","DOMDimensions","DOMQuery","Parent","Run","UIGridColumnsConfig","UserAgent","throttle"],(function(a,b,c,d,e,f,g,h){var i=null,j=null,k=!1,l=null,m,n="fixed_elem",o=b("UserAgent").isDevice("iPad"),p=b("UserAgent").isPlatform("Android >= 6")&&b("UserAgent").isBrowser("Chrome >= 49"),q={MIN_CHILDREN:1,MAX_CHILDREN:5,TOP_MARGIN:43,BOTTOM_MARGIN:78,init:function(a){i=a,j=b("Parent").bySelector(i,"._1qkq > #pagelet_navigation"),j&&(b("CSS").addClass(j,n),(o||p)&&(b("Bootloader").loadModules(["UITinyViewportAction"],function(a){a=!b("UIGridColumnsConfig").responsive_rhc_when_narrow&&a.isTiny();j&&b("CSS").conditionClass(j,n,!a)},"LeftNavFitToHeight"),l=b("Arbiter").subscribe("tinyViewport/change",function(a,c){a=c.tiny;j&&(o||p)&&b("CSS").conditionClass(j,n,!a)})),r(),window.addEventListener("resize",r),b("Run").onLeave(q.destroy))},destroy:function(){j&&b("CSS").removeClass(j,n),i=null,j=null,k=!1,window.removeEventListener("resize",r),l&&b("Arbiter").unsubscribe(l),m&&m.cancel()}},r=b("throttle")(function(){i&&u(i)});function s(a){k||(k=!0,b("Bootloader").loadModules(["LeftNavScrollable"],function(b){b.init(a)},"LeftNavFitToHeight"))}function t(a){var c=b("DOMQuery").scry(a,"#pinnedNav ul")[0];a=b("DOMQuery").scry(a,"#appsNav ul")[0];return{shortcutsContainer:c,exploreContainer:a}}function u(a){var c=t(a),d=c.shortcutsContainer;c=c.exploreContainer;var e=!!d+!!c;if(!x(a,d,c)){s(a);return}var f=A(d,c);if(!f){s(a);return}var g=w(a,d,c);g=Math.floor(g/f);f=d?b("DOMQuery").scry(d,"li.sideNavItem"):[];d=c?b("DOMQuery").scry(c,"li.sideNavItem"):[];c=v(g,f.length,d.length);var h=c.shortcutsCount,i=c.exploreCount,j="_3odl";f.forEach(function(a,c){b("CSS").conditionClass(a,j,c>=h)});d.forEach(function(a,c){b("CSS").conditionClass(a,j,c>=i)});g<q.MIN_CHILDREN*e&&s(a)}function v(a,b,c){var d=Math.max(Math.floor(a/2),q.MIN_CHILDREN);d=Math.min(d,b,q.MAX_CHILDREN);b=Math.max(a-d,q.MIN_CHILDREN);b=Math.min(b,c,q.MAX_CHILDREN);return{exploreCount:b,shortcutsCount:d}}function w(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.reduce(function(a,c){return c!=null?a+b("DOMDimensions").getElementDimensions(c).height:a},0),g=b("DOMDimensions").getElementDimensions(a).height;return window.innerHeight-(g-f)-(q.TOP_MARGIN+q.BOTTOM_MARGIN)}function x(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a&&b("DOMQuery").contains(window.document.body,a)&&y(d)}function y(a){return a.some(function(a){return z(a)})}function z(a){return a!=null&&b("CSS").matchesSelector(a,"._5pyq")}function A(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=B(c);return e!=null?b("DOMDimensions").getElementDimensions(e).height:0}function B(a){var c="li.sideNavItem";for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f!=null){f=b("DOMQuery").scry(f,c)[0];if(f!=null)return f}}return null}e.exports=q}),null);
__d("FeedStoryUFIHideUntilVisibleOrDDRoot.react",["OnVisible.react","React","createCancelableFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isUFIVisible:!1},c.$2=function(){c.$1&&(c.$1.cancel(),c.$1=null),c.setState(function(a){return a.isUFIVisible?null:{isUFIVisible:!0}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("createCancelableFunction")(function(){a.$2()});this.props.onDisplayDone(function(){a.$1&&a.$1()})};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.render=function(){return this.state.isUFIVisible?this.props.children:g.jsx(b("OnVisible.react"),{onVisible:this.$2,children:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("FeedStoryUFIComment.react",["JSResource","React","UFI2Comment.react","UFI2CommentTranslateAllButton.react","getViewportViewDurationPropertiesFromTrackingData","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("UFI2CommentEditor.react").__setRef("FeedStoryUFIComment.react")),i=b("lazyLoadComponent")(b("JSResource")("UFI2CommentQualitySurvey.react").__setRef("FeedStoryUFIComment.react"));a=function(a){var c=a.composerPluginProps,d=a.currentActor,e=a.editingCommentID,f=a.feedback,j=a.feedbackSource,k=a.isCommentFresh,l=a.focusCommentID,m=a.onEditCommentError,n=a.onTranslateAllClick,o=a.renderedTranslationCommentID,p=a.setEditingCommentID,q=a.setRenderedTranslationCommentID,r=a.shouldRequestTranslationForAllComments,s=a.storyRenderLocation,t=a.getCommentEditorProps,u=a.getCommentProps,v=a.comment,w=a.isReply,x=a.className;a=a.children;var y=v.id,z=v.optimistic_action==null&&v.optimistic_error==null;u=u(v);var A=u.key;u=babelHelpers.objectWithoutPropertiesLoose(u,["key"]);u=g.createElement(b("UFI2Comment.react"),babelHelpers["extends"]({},u,{className:x,feedbackSource:j,isCommentFresh:k,isHighlighted:b("isCommentTokenOrFBID")(l,v),key:A,logCommentViewportViewDuration:z?function(a,c,d){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:y,isLivePinnedComment:!1,isReply:w,milliseconds:c,storyRenderLocation:s},b("getViewportViewDurationPropertiesFromTrackingData")(d),{visibleStartTime:a}))}:null,onEdit:function(){return p(y)},onTranslated:function(){return q(y)},onUntranslated:function(){o===y&&q(null)},storyRenderLocation:s,translationRequested:r}));return g.jsxs("li",{children:[y===e?g.jsx(g.Suspense,{fallback:g.jsx("div",{"aria-busy":"true",className:"aero",children:u}),children:g.jsx(h,babelHelpers["extends"]({},c,t(),{comment:v,commentId:y,depth:w?1:0,onError:m,onFinishEdit:function(){return p(null)},storyRenderLocation:s}))}):u,v.inline_survey_config!=null&&d&&d.id!==null?g.jsx(g.Suspense,{fallback:g.jsx("div",{"aria-busy":"true","max-height":"500"}),children:g.jsx(i,{comment:v,feedback:f,inlineSurveyConfig:v.inline_survey_config})}):null,y===o&&!r?g.jsx(b("UFI2CommentTranslateAllButton.react"),{onClick:n}):null,a]},A||y)};e.exports=a}),null);
__d("UFI2AddCommentLink.react",["cx","fbt","React","TrackingNodes","UFI2AbstractButtonWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.label;c=c===void 0?h._("Votre commentaire\u2026"):c;a=a.onClick;return i.jsx("div",{className:"_694w","data-testid":void 0,children:i.jsx(b("UFI2AbstractButtonWrapper.react"),{className:"_694x","data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT_LINK),"data-testid":void 0,href:"#",label:c,onClick:a,role:"button"})})}e.exports=a}),null);
__d("UFI2ComposerActions.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("ul",{className:"_1obb",children:h.Children.map(a.children,function(a){return h.jsx("li",{className:"_1obc",children:a})})})}e.exports=a}),null);
__d("isUFI2ComposerStateEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.attachment;a=a.inputState;if(b!=null)return!1;switch(a.__type){case"editor-state-based":return!a.editorState.getCurrentContent().hasText();case"plain-text":return!(a.text&&a.text.trim().length);default:return a.__type}}e.exports=a}),null);
__d("UFI2ProgressiveComposerInput.react",["cx","invariant","requireDeferred","Event","FBLogger","Keys","React","ReactDOMSelection","SubscriptionsHandler","clearImmediate","clearTimeout","emptyFunction","getActiveElement","getPlainTextFromUFI2InputState","ifRequired","isSoftNewlineEvent","isUFI2ComposerStateEmpty","joinClasses","setImmediateAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Keys").BACKSPACE,j=b("Keys").DELETE,k=b("Keys").RETURN,l=b("React"),m=b("requireDeferred")("UFI2RichComposerInput.react"),n=b("requireDeferred")("getEditorStateFromUFI2ComposerState");function o(a){a=a.innerText||"";a.replace(/(\r\n|\r|\n)/g,"")===""&&(a="");return a}function p(){return b("ifRequired")("EditorState",function(a){var b=m.getModuleIfRequired();return b!=null?{EditorState:a,UFI2RichComposerInput:b}:null},function(){return null})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=!1,d.$3=null,d.$4=new(b("SubscriptionsHandler"))(),d.state={proxyIsInCompositionMode:!1},d.$7=function(a){d.$8()},d.$9=function(a){d.setState({proxyIsInCompositionMode:!0})},d.$10=function(a){d.setState({proxyIsInCompositionMode:!1})},d.$11=function(a){d.$8()},d.$12=function(a){d.$13(a.target)},d.$14=function(a){d.$3=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$15=function(a){a.keyCode===k&&!b("isSoftNewlineEvent")(a)?(a.preventDefault(),d.props.onCommit()):(a.keyCode===i||a.keyCode===j)&&d.$8()},d.$16=function(a){d.$2=!0;var c=b("setTimeoutAcrossTransitions")(function(){b("FBLogger")("ufi2").warn("_handleProxyMouseDown had no corresonding mouseup event for 30s.")},3e4);d.$4.addSubscriptions({remove:function(){b("clearTimeout")(c)}});var e=b("Event").listen(document,"mouseup",function(){b("clearTimeout")(c),d.$2=!1,d.$4.releaseOne(e),d.$3!=null&&d.$3===b("getActiveElement")()&&d.$5()});d.$4.addSubscriptions(e)},d.$17=function(a){var b=d.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}a.isDefaultPrevented()===!1&&d.$8()},d.$19=function(a){var c=function(){d.$2===!1&&d.$5()};n.getModuleIfRequired()==null?n.loadImmediately(function(){return c()}):c();var e=p();(e==null?void 0:e.UFI2RichComposerInput)==null&&m.loadImmediately(b("emptyFunction"));d.props.onFocus&&d.props.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}c.createEmptyComposerState=function(){var a=p();a=a==null?void 0:a.EditorState;return a!=null?{__type:"editor-state-based",editorState:a.createEmpty()}:{__type:"plain-text",selectionOffsets:null,text:""}};var d=c.prototype;d.$5=function(){var a=this,c=n.getModuleIfRequired();if(c==null||this.state.proxyIsInCompositionMode===!0||this.props.composerState.inputState.__type!=="plain-text")return;this.props.onComposerStateChange(function(d){var e=d.inputState;if(e.__type!=="plain-text"){b("FBLogger")("ufi2").warn("We were asked to commit the text and selection state of the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",e.__type);return d}e=babelHelpers["extends"]({},d,{inputState:babelHelpers["extends"]({},e,{selectionOffsets:b("getActiveElement")()===a.$3?b("ReactDOMSelection").getOffsets(a.$3):e.selectionOffsets})});return babelHelpers["extends"]({},d,{inputState:{__type:"editor-state-based",editorState:c(e)}})})};d.$6=function(){b("isUFI2ComposerStateEmpty")(this.props.composerState)!==!0&&this.$5()};d.$13=function(a){this.$1=!1;var b=o(a);this.props.onComposerStateChange(function(a){var c=a.inputState;c.__type==="plain-text"||h(0,5554,c.__type);return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{text:b})})})};d.$18=function(a){if(a.composerState.inputState.__type!=="plain-text")return;var c=this.$3;if(c){a=a.composerState.inputState;var d,e;switch(a.__type){case"plain-text":d=a.text;e=a.selectionOffsets;break;case"editor-state-based":default:d=a.editorState.getCurrentContent().getBlockMap().map(function(a){return a?a.getText():""}).join("\n");b("FBLogger")("ufi2").warn("Unimplemented: tried to update the UFI2 proxy input's selection using an `EditorState` but we have not yet implemented a function that maps from an `EditorState` to selection offsets.");break}e==null&&(e=b("getActiveElement")()===c?b("ReactDOMSelection").getOffsets(c):null);a=o(c);d!==a&&(c.textContent=d,e!=null&&(d===""?(c.innerText="\xa0",b("ReactDOMSelection").setOffsets(c,{end:1,start:1}),document.execCommand("delete",!1,null)):b("ReactDOMSelection").setOffsets(c,e)))}};d.$8=function(){var a=this;if(this.$1)return;this.$1=!0;var c=b("setImmediateAcrossTransitions")(function(){a.$1&&(a.$1=!1,a.$3&&a.$13(a.$3))});this.$4.addSubscriptions({remove:function(){b("clearImmediate")(c)}})};d.componentDidMount=function(){var a=this,b=this.props.composerState.inputState;this.$3&&b.__type==="plain-text"&&this.$18(this.props);b=p();(b==null?void 0:b.UFI2RichComposerInput)==null&&this.$4.addSubscriptions(m.onReady(function(b){a.props.composerState.inputState.__type==="editor-state-based"&&a.forceUpdate()}))};d.componentDidUpdate=function(a,b){this.props.composerState.inputState.__type==="plain-text"&&this.$6(),this.$18(this.props)};d.componentWillUnmount=function(){this.$4.release()};d.execCommand=function(a){this.props.handleCommand&&(a.__type==="PrefillMention"&&(m.loadImmediately(b("emptyFunction")),this.$5()),this.props.handleCommand(a))};d.render=function(){var a=p(),c=b("getPlainTextFromUFI2InputState")(this.props.composerState.inputState).trim()!=="";a=a==null?void 0:a.UFI2RichComposerInput;var d=this.props.depth?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment";return a&&this.props.composerState.inputState.__type==="editor-state-based"?l.jsx(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")("_65tb",this.props.className),composerState:this.props.composerState,onClick:this.props.onClick,onCommit:this.props.onCommit,onComposerStateChange:this.props.onComposerStateChange,onInputRefUpdated:this.props.onInputRefUpdated,placeholder:this.props.placeholder,webDriverTestID:d+":rich-input"})):l.jsx("div",{className:this.props.className,onClick:this.props.onClick,children:l.jsxs("div",{className:"_7c-l",children:[l.jsx("div",{className:(this.props.composerState.isLocked?"_65tc":"")+" _65td",contentEditable:this.props.composerState.isLocked===!1,"data-testid":void 0,onBeforeInput:this.$7,onBlur:this.props.onBlur,onCompositionEnd:this.$10,onCompositionStart:this.$9,onCut:this.$11,onFocus:this.$19,onInput:this.$12,onKeyDown:this.$15,onMouseDown:this.$16,onPaste:this.$17,ref:this.$14}),c?null:l.jsx("div",{className:"_7c-t",children:this.props.placeholder})]})})};return c}(l.Component);e.exports=a}),null);
__d("composeUFI2Plugins",[],(function(a,b,c,d,e,f){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}e.exports=a}),null);
__d("createUFI2ComposerPluginPipeline",["React","composeUFI2Plugins"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){if(a.length===0)return function(a){var b=a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);return g.jsx(b,babelHelpers["extends"]({},a))};var c=a;return function(a){babelHelpers.inheritsLoose(d,a);function d(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={Pipeline:b("composeUFI2Plugins").apply(void 0,c)(e.props.render),mirroredRenderProp:e.props.render},d)||babelHelpers.assertThisInitialized(e)}d.getDerivedStateFromProps=function(a,d){return d.mirroredRenderProp!==a.render?{Pipeline:b("composeUFI2Plugins").apply(void 0,c)(a.render),mirroredRenderProp:a.render}:null};var e=d.prototype;e.render=function(){var a=this.props;a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);var b=this.state.Pipeline;return g.jsx(b,babelHelpers["extends"]({},a))};return d}(g.Component)}e.exports=a}),null);
__d("getCommentDataFromComposerState",["UnicodeUtils","emptyFunction","textProbablyWritingMarkdown"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=a.attachmentMappers,d=a.composerState,e=a.contentBlockToTextWithEntitiesInputMessageMappers,f=d.attachment;a=d.feedbackID;var h=d.inputState,i=d.commentAssociatedWithReply,j=d.replyTargetClicked,k=d.usedWritingHelpToCompose,l=d.formattingStyle;c=f&&(f.__type==="ExistingAttachment"?[]:c.map(function(a){return a(f)}).filter(Boolean));var m={};switch(h.__type){case"plain-text":l==null&&b("textProbablyWritingMarkdown")(h.text)&&(l="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,formatting_style:l,message:{text:h.text},reply_comment_parent_fbid:i==null?void 0:i.id,reply_target_clicked:j},entitiesByID:m,usedWritingHelpToCompose:k===!0};case"editor-state-based":default:h=h.editorState;var n=[],o=[],p=0,q=h.getCurrentContent();q.getBlockMap().forEach(function(a){var c="",d=0;a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,h){var i=e.some(function(e){e=e(a,q,f,h);var i=a.getText().slice(0,f),j=Math.max(0,i.length-(g||(g=b("UnicodeUtils"))).strlen(i));if(e!=null){i=e.entitiesByID;e=e.message;Object.assign(m,i);c+=e.text;e.ranges&&o.push.apply(o,e.ranges.map(function(a){return a?babelHelpers["extends"]({},a,{offset:a.offset+p-j+d}):a}));d+=e.text.length-(h-f);return!0}return!1});i===!1&&(c+=a.getText().slice(f,h).replace("@[","@ ["))});p+=(g||(g=b("UnicodeUtils"))).strlen(c)+1;n.push(c)});h=n.join("\n");if(h.trim()===""&&f==null)return null;l==null&&b("textProbablyWritingMarkdown")(h)&&(l="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,file_marker:d.fileMarker,formatting_style:l,insights_point_json:d.insightsPoint,message:{ranges:o,text:h},reply_comment_parent_fbid:i==null?void 0:i.id,reply_target_clicked:j},entitiesByID:m,usedWritingHelpToCompose:k===!0}}}e.exports=a}),null);
__d("setFocusOnUFI2ComposerInputState",["FBLogger","ifRequired"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.inputState;switch(c.__type){case"editor-state-based":return b("ifRequired")("EditorState",function(b){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{editorState:b.moveFocusToEnd(c.editorState)})})},function(){b("FBLogger")("ufi2").mustfix("Tried to set focus on a composer state whose inputState was of type `editor-state-based` but the EditorState module has not yet been defined. It should not be possible to produce a composer state of that type without the `EditorState` module being defined. Investigate why.");return a});case"plain-text":default:var d=c.text.length;return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{selectionOffsets:{end:d,start:d}})})}}e.exports=a}),null);
__d("UFI2Composer.react",["cx","fbt","invariant","requireCond","Bootloader","cr:955308","FBLogger","Random","React","ReactDOM","Run","SubscriptionsHandler","TrackingNodes","UFI2CometRelayCreateFragmentContainer","UFI2CommentRow.react","UFI2ComposerActions.react","UFI2Config","UFI2ErrorBoundary.react","UFI2ProgressiveComposerInput.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFINavigationCheck","UFIODSLogger","Vector","WebFunnelLogger","collectDataAttributes","createUFI2ComposerPluginPipeline","emptyFunction","getActiveElement","getCommentDataFromComposerState","getPlainTextFromUFI2InputState","getScrollableAreaContainingNode","gkx","ifRequired","isUFI2ComposerStateEmpty","joinClasses","makeUFI2ClientID","memoize","nullthrows","requestAnimationFrameAcrossTransitions","setFocusOnUFI2ComposerInputState","UFI2Composer_actor.graphql","UFI2Composer_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var m=b("UFI2Config").composerInputSamplingRateDenominator;function n(a){a===void 0&&(a=b("emptyFunction"));return b("Bootloader").loadModules(["clearUFIComposerInputState"],a,"UFI2Composer.react")}var o=[],p=b("memoize")(function(){var a=m||100;return b("Random").coinflip(a)&&b("gkx")("678290")});d=function(c){babelHelpers.inheritsLoose(d,c);function d(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=[],d.$2=[],d.$3=l.createRef(),d.$5=!1,d.$6=null,d.$7=!1,d.$8=null,d.state={UFI2ComposerPluginPipeline:b("createUFI2ComposerPluginPipeline")(d.props.initialPlugins||o),composerState:d.props.initialComposerState||{attachment:null,commentAssociatedWithReply:null,feedbackID:b("nullthrows")(d.props.feedback.id,"A `UFI2Composer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID."),formattingStyle:void 0,inputDecorators:[],inputState:b("UFI2ProgressiveComposerInput.react").createEmptyComposerState(),isLocked:!1}},d.$9=null,d.$10=new(b("SubscriptionsHandler"))(),d.$11=function(a,c){var e=d.$3.current;e=b("ReactDOM").findDOMNode(e);return e?b("collectDataAttributes")(e,a,c):null},d.$13=function(){var a=d.props,c=a.actor,e=a.onCommit,f=a.relay,g=a.topLevelFeedbackID,h=a.useDefaultActor,j=b("makeUFI2ClientID")(b("UFICommonInteractionLogger").makeTrackingID()),k=c.id;k!=null||i(0,4686);var l=d.state.composerState.usedWritingHelpToCompose,m=function(a,b){b===void 0&&(b={}),e({actorID:k,clientID:j,commentData:a,entitiesByID:b,environment:f.environment,feedLocation:d.props.feedLocation,feedbackSource:d.props.feedbackSource,focusCommentID:d.props.focusCommentID,getTrackingDataFn:d.$11,topLevelFeedbackID:g,useDefaultActor:h,usedWritingHelpToCompose:l})};a=d.state.composerState.inputState;if(a.__type==="plain-text"){if(a.text.trim()===""&&d.state.composerState.attachment==null)return;d.$14();d.$12(j);c=d.state.composerState;var o=c.attachment,p=c.commentAssociatedWithReply;c=c.replyTargetClicked;m({attachments:o&&(o.__type==="ExistingAttachment"?[]:d.$1.map(function(a){return a(o)}).filter(Boolean)),feedback_id:d.state.composerState.feedbackID,formatting_style:d.state.composerState.formattingStyle,message:{text:a.text},reply_comment_parent_fbid:p==null?void 0:p.id,reply_target_clicked:c});d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""},replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})}else{d.$12(j);a=function(){n(function(a){if(d.$7===!1)return;var c=b("getCommentDataFromComposerState")({attachmentMappers:d.$1,composerState:d.state.composerState,contentBlockToTextWithEntitiesInputMessageMappers:d.$2});if(c==null){d.setState(function(a){if(a.composerState.isLocked)return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})};else return a});d.props.commentAction==="EDIT"&&m(null,{});return}d.$14();m(c.commentData,c.entitiesByID);if(d.$7===!1)return;d.setState(function(b){return{composerState:babelHelpers["extends"]({},a(b.composerState),{attachment:null,formattingStyle:void 0,isLocked:!1,replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})})};d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}},a)}},d.$15=function(){d.$4&&!d.$5&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("first_input").log(),d.$5=!0);p()&&(d.$8=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY));return"not-handled"},d.$16=function(a){d.setState(function(b){b=b.composerState;if(b.isLocked)return{};var c=a(b);c&&c.inputState&&c.inputState.__type==="editor-state-based"&&c.inputState.editorState.getCurrentContent().getBlockMap().some(function(a){return a.getText()!=null})&&n();if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})},d.$17=function(a){d.$6=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$18=function(){if(!d.$4){var a=d.props.actor.id;a&&(d.$4=a+"_"+Date.now(),new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("focus").setFunnelTags(["depth_"+d.props.depth]).markStart().log())}},d.$19=function(a){var c=d.state.composerState.inputState;switch(c.__type){case"editor-state-based":a.preventDefault();d.setState(function(a){var c=a.composerState.inputState;if(c.__type!=="editor-state-based"){b("FBLogger")("ufi2").warn("While handling a focus trigger click on an editor-state-based input the `inputState` type unexpectedly changed to `%s`.",c.__type);return null}var d=c.editorState,e=d.getSelection();if(e.getHasFocus()===!1){var f=e.set("hasFocus",!0);return b("ifRequired")("EditorState",function(b){return{composerState:babelHelpers["extends"]({},a.composerState,{inputState:babelHelpers["extends"]({},c,{editorState:b.forceSelection(d,f)})})}},function(){return null})}else return null});break;case"plain-text":default:a.preventDefault(),b("getActiveElement")()!==d.$6&&d.focus()}},d.$20=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$1).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$1=this.$1.filter(function(a){return c.includes(a)===!1})}}},d.$21=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$2).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$2=this.$2.filter(function(a){return c.includes(a)===!1})}}},d.isUnfinished=function(){if(d.props.initialComposerState){if(d.props.initialComposerState!==d.state.composerState)return!0}else if(!b("isUFI2ComposerStateEmpty")(d.state.composerState))return!0;return!1},d.$22=function(a){var c,e=a.actions;a=a.inputProps;var f=d.props,g=f.depth;f=f.feedback;var i=a.composerState,j=a.isCommentDenied,k=b("getPlainTextFromUFI2InputState")(i.inputState).trim()!=="";f=(c=(c=(c=(c=a.placeholder)!=null?c:d.props.placeholder)!=null?c:(c=i.commentAssociatedWithReply)==null?void 0:c.commentComposerPlaceholderText)!=null?c:f.comment_composer_placeholder)!=null?c:g>0?h._("R\u00e9pondez..."):h._("\u00c9crivez un commentaire\u2026");return l.jsxs("form",{className:b("joinClasses")((j?"_882o":"")+(i.isLocked?" _4w75":"")+" _129h"+(k?" _7c_q":""),a.formClassName),children:[l.jsx(b("UFI2ProgressiveComposerInput.react"),{className:b("joinClasses")((k===!1?"_7c_r":"")+" _4w79",a.className),composerState:a.composerState,depth:g,handleBeforeInput:d.$15,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:f,ref:d.$3,webDriverTestID:a.webDriverTestID}),e?l.jsx(b("UFI2ComposerActions.react"),{children:e}):null]})},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.$12=function(a){var c=this.props.commentAction,d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d);d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d)};e.componentDidUpdate=function(a,c){a=this.$8;a&&c.composerState!==this.state.composerState&&(this.$8=null,b("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};e.$14=function(){this.$4&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$4).setAction("commit").markEnd().log(),delete this.$4,this.$5=!1)};e.componentDidMount=function(){var c=this;this.$7=!0;var d=this.props,e=d.depth;d=d.feedbackSource;d===1&&(e===0?b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","relay"):b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","relay"));b("gkx")("708253")||this.$10.addSubscriptions(b("Run").onBeforeUnload(function(){return a.PageTransitions&&b("UFINavigationCheck").isLeaving(a.PageTransitions)&&c.isUnfinished()?h._("Vous n\u2019avez pas termin\u00e9 votre commentaire. Voulez-vous quitter sans terminer\u00a0?"):void 0}))};e.componentWillUnmount=function(){this.$7=!1,this.$10.release(),window.cancelAnimationFrame(this.$9)};e.execCommand=function(a){this.$3.current?this.$3.current.execCommand(a):b("FBLogger")("ufi2").warn("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};e.focus=function(){var a=this,c=this.$6;c&&this.$16(function(d){var e=b("getScrollableAreaContainingNode")(c);if(e){var f=e.getScrollTop();a.$9=b("requestAnimationFrameAcrossTransitions")(function(){e.setScrollTop(f,!1)})}else{var g=b("Vector").getScrollPosition();a.$9=b("requestAnimationFrameAcrossTransitions")(function(){window.scrollTo(g.x,g.y)})}d.inputState.__type==="plain-text"&&c.focus();return b("setFocusOnUFI2ComposerInputState")(d)})};e.render=function(){var a=this.props,c=a.actor,d=a.className;a=a.depth;var e=this.state.UFI2ComposerPluginPipeline;return l.jsx(b("UFI2ErrorBoundary.react"),{children:l.jsxs(l.Fragment,{children:[b("cr:955308")!=null?l.jsx(b("cr:955308"),{isUnfinished:this.isUnfinished}):null,l.jsx(b("UFI2CommentRow.react"),{actor:c,className:d,"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX),"data-testid":void 0,depth:a,isComposer:!0,onAvatarClick:this.$19,children:l.jsx(e,{actions:this.props.actions||o,initialComposerState:this.props.initialComposerState,inputProps:{commentAction:this.props.commentAction,composerState:this.state.composerState,depth:a,formClassName:this.props.formClassName,onClick:this.$19,onCommit:this.$13,onComposerStateChange:this.$16,onFocus:this.$18,onInputRefUpdated:this.$17},onInstallAttachmentMappers:this.$20,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$21,render:this.$22})})]})})};return d}(l.Component);d.displayName="UFI2Composer";e.exports=c(d,{actor:j!==void 0?j:j=b("UFI2Composer_actor.graphql"),feedback:k!==void 0?k:k=b("UFI2Composer_feedback.graphql")})}),null);
__d("FeedStoryUFITopLevelCommentList.react",["cx","fbt","invariant","requireDeferred","FeedStoryUFIComment.react","JSResource","React","RelayFBMatchContainer","UFI2AddCommentLink.react","UFI2CometRelayCreateFragmentContainer","UFI2Comment.react","UFI2CommentsFilterFallbackWarning.react","UFI2CommentsList.react","UFI2CommentsPager.react","UFI2Composer.react","UFI2HiddenCommentsPlaceholder.react","UFI2PaginationProgressIndicator.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2ScrollHoldingContainer.react","UFI2ViewOption","UFI2ViewOptionsSelector.react","XUISpinner.react","deferredLoadComponent","joinClasses","lazyLoadComponent","FeedStoryUFITopLevelCommentList_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("deferredLoadComponent")(b("requireDeferred")("UFI2TypingIndicator.react")),m=b("lazyLoadComponent")(b("JSResource")("UFI2FlatThreadedTopLevelCommentContainer.react").__setRef("FeedStoryUFITopLevelCommentList.react")),n=function(a){return k.jsx("div",{className:b("joinClasses")("_3w53 _vaw",a),children:k.jsx(b("XUISpinner.react"),{className:"_2sy3",size:"large"})})};function a(a){var c,d,e,f=a.className,g=a.commentsListRenderProps,j=a.composer,p=a.composerPluginProps,q=a.editingCommentID,r=a.feedback,s=a.feedbackSource,t=a.isCommentFresh,u=a.focusCommentID,v=a.onAddCommentClick,w=a.onCommitCommentCreate,x=a.onEditCommentError,y=a.renderedTranslationCommentID,z=a.setEditingCommentID,A=a.setRenderedTranslationCommentID,B=a.storyRenderLocation,C=a.onTranslateAllClick,D=a.placeholderClassName;a=a.shouldRequestTranslationForAllComments;g.depth===0||i(0,2951);var E=g.Actions.setViewOption,F=g.Selectors,G=g.addReplyToCommentCallback,H=g.clearReplyToCommentCallback,I=g.depth,J=g.getCommentEditorProps,K=g.getCommentProps,L=g.getFilterWarningPropsForOlderComments,M=g.getHiddenCommentsPlaceholderProps,N=g.getPagerPropsForNewerComments,O=g.getPagerPropsForOlderComments,P=g.getPaginationProgressProps,Q=g.getNestedCommentsListProps,R=g.getTotalRepliesCountForComment,S=g.isReplyComposerVisibleForComment,T=g.listState,U=g.onCommentsListMouseEnter,aa=g.onCommentsListMouseLeave,ba=g.replyViewOption,V=g.totalCount;g=g.viewOption;d=(d=r)!=null?d.comment_ordering_nux_id:d;c=(c=r)!=null?c.comment_ordering_nux_string:c;var W=F.hasPagedInDirection({depth:I,direction:"forward",state:T}),X=b("UFI2ViewOption").isChronologicalOrder(g),Y=F.isListExpanded({depth:I,state:T}),Z=F.isListLoading({depth:I,state:T});e=(e=(e=r.unfiltered_comment_count)==null?void 0:e.total_count)!=null?e:V;V=e>0&&(r.num_localized_comment_orderings||0)>1;e=F.getVisibleCommentsCount({depth:I,state:T});if(!Y)return null;if(Y&&e===0&&Z)return n(D);Y=F.getVisibleCommentsWithHiddenCommentsCollapsed({depth:I,reverse:X,state:T});Z=(Z=r)!=null?Z.viewer_actor:Z;N=k.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},N(),{className:"_293g"}));O=k.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},O(),{className:"_293g"}));W=!X&&j!==null&&W;P=F.isPagerVisible({depth:I,direction:"forward",state:T})?k.jsx(b("UFI2PaginationProgressIndicator.react"),babelHelpers["extends"]({},P(),{className:"_293g"})):null;var ca={addReplyToCommentCallback:G,clearReplyToCommentCallback:H,composerPluginProps:p,currentActor:Z,editingCommentID:q,feedback:r,feedbackSource:s,focusCommentID:u,isCommentFresh:t,onCommitCommentCreate:w,onEditCommentError:x,onTranslateAllClick:C,renderedTranslationCommentID:y,setEditingCommentID:z,setRenderedTranslationCommentID:A,shouldRequestTranslationForAllComments:a,storyRenderLocation:B,topLevelViewOption:g},da={composerPluginProps:p,currentActor:Z,editingCommentID:q,feedback:r,feedbackSource:s,focusCommentID:u,getCommentEditorProps:J,getCommentProps:K,isCommentFresh:t,isReply:!1,onEditCommentError:x,onTranslateAllClick:C,renderedTranslationCommentID:y,setEditingCommentID:z,setRenderedTranslationCommentID:A,shouldRequestTranslationForAllComments:a,storyRenderLocation:B},$=r.toplevel_flat_threading_config;w=F.isPagerVisible({depth:I,direction:X?"forward":"backward",state:T});p=!w&&r.can_page_admins_moderate_comments_in_bulk===!0;Z=p===!0?b("joinClasses")("_2pln","_8s8k"):"_2pln";q=k.jsxs("div",{className:b("joinClasses")("_3w53",f),"data-testid":void 0,onMouseEnter:U,onMouseLeave:aa,children:[k.jsx("h6",{className:"accessible_elem",children:h._("Commentaires")}),k.jsxs("div",{className:"_3tz_ _7790",children:[X?O:N,V?k.jsx("div",{className:Z,children:k.jsx("div",{children:k.jsx(b("UFI2ViewOptionsSelector.react"),{alignh:"left",caretClassName:"_2plo",className:"_2pm1",feedback:r,linkClassName:"_2pm3",nuxID:d,nuxString:c,onChange:function(a){return E({viewOption:a})},selectedViewOption:g})})}):X?P:null]}),!X&&j,e>0?k.jsx("ul",{className:"_7791",children:Y.map(function(a,c){if(a.state==="COLLAPSED"){var d;return k.jsx("li",{children:k.jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},M(),{className:"_4eez"+(c===0?" _7793":""),commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((d=(d=a.comments[0])==null?void 0:d.id)!=null?d:c))}else if(a.state==="VISIBLE")return k.jsx(k.Fragment,{children:a.comments.map(function(a,d){var e=K(a).key||a.id;d=k.createElement(b("FeedStoryUFIComment.react"),babelHelpers["extends"]({},da,{className:"clearfix _4eez"+(d===0&&c===0?" _7793":""),comment:a,key:e}),k.jsx(b("UFI2CommentsList.react"),babelHelpers["extends"]({},Q(a.id),{children:function(a){return k.jsx(o,babelHelpers["extends"]({},ca,{repliesListRenderProps:a}))}})));$!=null&&(d=k.jsx(k.Suspense,{fallback:d,children:k.jsx(m,{addReplyToCommentCallback:G,clearReplyToCommentCallback:H,comment:a,config:$,getTotalRepliesCountForComment:R,isReplyComposerVisibleForComment:S,replyViewOption:ba,children:d})},e));return d})},c);return null})}):null,g==="RANKED_THREADED"&&k.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},L(),{className:"_4eez"})),k.jsxs("div",{className:"_3tz_ _7794",children:[X?N:O,X?null:P]}),k.jsx(k.Suspense,{fallback:null,loading:null,children:k.jsx(l,{feedback:r})}),X&&j,W===!0&&k.jsx(b("UFI2AddCommentLink.react"),{onClick:v})]});q=k.jsx(k.Suspense,{fallback:n(D),children:q});return s===1?k.jsx(b("UFI2ScrollHoldingContainer.react"),{children:q}):q}var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.addReplyToCommentCallback,d=a.clearReplyToCommentCallback,e=a.composerPluginProps,f=a.currentActor,g=a.editingCommentID,h=a.feedback,j=a.feedbackSource,l=a.isCommentFresh,m=a.focusCommentID,n=a.onCommitCommentCreate,o=a.onEditCommentError,p=a.onTranslateAllClick,q=a.renderedTranslationCommentID,r=a.repliesListRenderProps,s=a.setEditingCommentID,t=a.setRenderedTranslationCommentID,u=a.shouldRequestTranslationForAllComments,v=a.storyRenderLocation;a=a.topLevelViewOption;r.depth===1||i(0,2952);var w=r.Selectors,x=r.addReplyToCommentCallback,y=r.clearReplyToCommentCallback,z=r.depth,A=r.getCommentEditorProps,B=r.getCommentProps,C=r.getComposerProps,D=r.getFilterWarningPropsForOlderComments,E=r.getFilterWarningPropsForNewerComments,F=r.getHiddenCommentsPlaceholderProps,G=r.getPagerPropsForNewerComments,H=r.getPagerPropsForOlderComments,I=r.getRepliesCollapserProps,J=r.getRepliesExpanderProps,K=r.listState,L=r.onCommentsListMouseEnter,M=r.onCommentsListMouseLeave,N=r.viewOption,O={composerPluginProps:e,currentActor:f,editingCommentID:g,feedback:h,feedbackSource:j,focusCommentID:m,getCommentEditorProps:A,getCommentProps:B,isCommentFresh:l,isReply:!0,onEditCommentError:o,onTranslateAllClick:p,renderedTranslationCommentID:q,setEditingCommentID:s,setRenderedTranslationCommentID:t,shouldRequestTranslationForAllComments:u,storyRenderLocation:v};m=babelHelpers["extends"]({},e,C(),{actor:f,className:"_4efl",commentAction:"ADD",depth:z,key:"composerForUID"+((g=f==null?void 0:f.id)!=null?g:"UNKNOWN"),onCommit:n});if(h.reply_flat_threading_config!=null)return k.jsx(k.Suspense,{fallback:k.jsx("div",{}),children:k.jsx(b("RelayFBMatchContainer"),{match:h.reply_flat_threading_config,props:{addReplyToCommentCallback:c,addReplyToReplyCallback:x,clearReplyToCommentCallback:d,clearReplyToReplyCallback:y,commentComponent:b("FeedStoryUFIComment.react"),commentComponentProps:O,currentActorId:f==null?void 0:f.id,feedbackSource:j,repliesListRenderProps:r,replyComposerComponent:b("UFI2Composer.react"),replyComposerComponentProps:m}})});A=b("UFI2ViewOption").isChronologicalOrder(N);l=k.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},G(),{className:"_1i3s _293g"}));o=k.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},H(),{className:"_1i3s _293g"}));p=w.getVisibleCommentsWithHiddenCommentsCollapsed({depth:z,reverse:A,state:K});q=w.isComposerVisible({depth:z,state:K});s=w.isListExpanded({depth:z,state:K});t=w.isRepliesExpanderLoading({depth:z,state:K});u=w.getVisibleCommentsCount({depth:z,state:K});v=q&&f!=null?k.jsx(b("UFI2Composer.react"),babelHelpers["extends"]({},m)):null;e=!s||t?k.jsx(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},J(),{className:"_1i3s _293g"})):k.jsxs(k.Fragment,{children:[k.jsx(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},I(),{className:"_2kgx"})),A?o:l,a==="RANKED_THREADED"&&h.reply_flat_threading_config==null&&k.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},A?D():E(),{className:"_4efk clearfix",viewOption:a})),u>0?k.jsx("ul",{children:p.map(function(a,c){if(a.state==="COLLAPSED"){var d;return k.jsx("li",{children:k.jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},F(),{className:"_4eez",commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((d=(d=a.comments[0])==null?void 0:d.id)!=null?d:c))}else if(a.state==="VISIBLE")return k.jsx(k.Fragment,{children:a.comments.map(function(a){return k.createElement(b("FeedStoryUFIComment.react"),babelHelpers["extends"]({},O,{className:"_4efk clearfix",comment:a,key:B(a).key||a.id}))})},c);return null})}):null,a==="RANKED_THREADED"&&h.reply_flat_threading_config==null&&k.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},A?E():D(),{className:"_4efk clearfix",viewOption:a})),A?l:o,(h.reply_flat_threading_config==null||u===0||p.length===0)&&v]});e=k.jsx("div",{className:"_2h2j","data-testid":void 0,onMouseEnter:L,onMouseLeave:M,children:e});j===1&&(e=k.jsx(b("UFI2ScrollHoldingContainer.react"),{children:e}));return e};return a}(k.Component);e.exports=c(a,{feedback:j!==void 0?j:j=b("FeedStoryUFITopLevelCommentList_feedback.graphql")})}),null);
__d("UFI2ActorSelector.react",["cx","BizSiteIdentifier.brands","JSResource","PageVoiceDropdownSelector.react","React","Run","UFI2CometRelayCreateFragmentContainer","UFI2NUXConfig","UFIODSLogger","emptyFunction","isEmpty","joinClasses","lazyLoadComponent","UFI2ActorSelector_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k=b("lazyLoadComponent")(b("JSResource")("UFI2ActorSelectorNUX.react").__setRef("UFI2ActorSelector.react")),l=!1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.root=j.createRef(),e.state=c.getDerivedStateFromProps(e.props),e.$1=function(){return e.setState({showNUX:!1})},e.$2=function(a){b("UFIODSLogger").bump("actor_selector.on_change","relay"),e.props.onActorChange(a.value)},d)||babelHelpers.assertThisInitialized(e)}c.getDerivedStateFromProps=function(a,b){var c,d;a=a.feedback;c=(c=(c=(c=a.viewer_actor)==null?void 0:c.id)!=null?c:(c=a.account_actor)==null?void 0:c.id)!=null?c:"";if(!a.can_see_voice_switcher)return{actorData:{},selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:c};d=(d=(d=a.voice_switcher_actors)==null?void 0:d.nodes)!=null?d:[];var e={};d.forEach(function(a){var b=a.id;if(b){e[b]={name:a.name,thumbSrc:(b=a.profile_picture)==null?void 0:b.uri}}});a=(d=a.account_actor)==null?void 0:d.id;(a==null||!(a in e))&&(a=c);return{actorData:e,selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("UFIODSLogger").bump("actor_selector.component_did_mount","relay");!l&&b("UFI2NUXConfig").shouldShowActorSelectorNUX&&(l=!0,b("Run").onAfterLoad(function(){a.setState({showNUX:!0})}))};d.render=function(){var a=this,c=this.state,d=c.actorData,e=c.selectedActorID;c=c.userID;return(i||(i=b("isEmpty")))(d)||!d[e]?null:j.jsxs("div",{className:b("joinClasses")(this.props.className,"_29ak"),ref:this.root,children:[j.jsx(b("PageVoiceDropdownSelector.react"),{disabled:!1,onChange:this.$2,onClick:b("emptyFunction"),pages:d,searchBarVisible:!0,selectedActorID:e,showBusinessPages:!1,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:!0,user:d[c]}),this.state.showNUX?j.jsx(j.Suspense,{fallback:null,children:j.jsx(k,{contextRef:function(){return a.root.current},feedback:this.props.feedback,onClose:this.$1})}):null]})};return c}(j.Component);e.exports=a(c,{feedback:h!==void 0?h:h=b("UFI2ActorSelector_feedback.graphql")})}),null);
__d("UFI2CommentActionLink.react",["cx","fbt","CometTrackingNodeProvider.react","React","UFI2AbstractButtonWrapper.react","UFI2ActionLink.react","gkx","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.className,d=a.floating,e=a.inverse,f=a.onClick;return i.jsx(b("UFI2ActionLink.react"),{floating:d,children:function(a){a=a.className;return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:26,children:i.jsx(b("UFI2AbstractButtonWrapper.react"),babelHelpers["extends"]({className:b("joinClasses")((e?"_6r34":"")+" _666h",a,c),"data-testid":void 0},b("gkx")("708253")?null:{href:"#"},{label:h._("Commenter"),onClick:f,role:"button",tabIndex:0,title:h._("Laissez un commentaire")}))})}})}a.displayName="UFI2CommentActionLink";e.exports=a}),null);
__d("UFI2CommentDisabledNotice.react",["cx","React","TextWithEntities.react","UFI2CometRelayCreateFragmentContainer","linkifyEntityRange","UFI2CommentDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.feedback;if(!a.comments_disabled_notice)return null;var c=a.comments_disabled_notice;c=i.jsx("div",{className:"_69g2",children:i.jsx(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:c.ranges,text:c.text})});return i.jsx("div",{className:(a.display_comments_count&&a.display_comments_count.count&&a.display_comments_count.count>0?"_2o30":"")+" _69g3",children:c})};return c}(i.Component);e.exports=a(c,{feedback:h!==void 0?h:h=b("UFI2CommentDisabledNotice_feedback.graphql")})}),null);
__d("UFI2PrivateReplyActionLink.react",["cx","React","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2PrivateReplyLink.react","UFI2PrivateReplyActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.feedback,d=a.feedbackSource;a=a.seeResponseLabel;return i.jsx(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){return i.jsx(b("UFI2ActionLink.react"),babelHelpers["extends"]({},a,{linkClassName:"_6dc2"}))},feedback:c,feedbackSource:d,seeResponseLabel:a})}a.displayName="UFI2PrivateReplyActionLink";d=c(a,{feedback:h!==void 0?h:h=b("UFI2PrivateReplyActionLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2ReactionIcon.react",["CometReactionIcon.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={reactionBounceAnimation:{animationDuration:"suguu2y7",animationName:"k52jgpo8"}};c=b("React");var i=c.useEffect,j=c.useRef;function a(a){var c=a.shouldAnimateOnFirstRender,d=a.shouldAnimateOnReactionChange,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,["shouldAnimateOnFirstRender","shouldAnimateOnReactionChange","testid"]);var f=j(!1);i(function(){f.current=!0});c=!f.current&&c||f.current&&d;d=c?[h.reactionBounceAnimation,e.xstyle]:e.xstyle;return g.jsx(b("CometReactionIcon.react"),{alt:e.alt,reactionType:e.reaction,size:e.size,testid:void 0,xstyle:d},c?a.reaction:void 0)}e.exports=a}),null);
__d("UFI2ReactionActionLink.react",["ix","cx","CometTrackingNodeProvider.react","Image.react","React","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2ReactionIcon.react","UFI2ReactionLink.react","UFI2ReactionUtils","UFICommonInteractionEvents","UFIReactionTypes","stylex","asset","joinClasses","UFI2ReactionActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k={inlineUFIIcon:{marginRight:"qoqs7rgl"}},l=525,m=750;function n(a){a=(a=a.feedback)==null?void 0:(a=a.viewer_feedback_reaction_info)==null?void 0:a.key;a=b("UFI2ReactionUtils").checkReactionKey(a);return a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=n(this.props)};d.componentDidUpdate=function(){this.$1=n(this.props)};d.render=function(){var a=this.props,c=a.className,d=a.feedback,e=a.feedbackSource,f=a.floating,h=a.mutationInputAugmenter,i=a.useDefaultActor,o=a.onReactionError;a=n(this.props);var p;!a?p=j.jsx(b("Image.react"),{alt:"",className:"_6rk2",src:this.props.inverse===!0?this.props.filled===!0?g("352555"):g("352559"):g("347022")}):a!==b("UFIReactionTypes").LIKE?p=j.jsx(b("UFI2ReactionIcon.react"),{alt:"",reaction:a,shouldAnimateOnFirstRender:Boolean(this.props.enableAnimations)&&(this.$1===b("UFIReactionTypes").NONE||this.$1===b("UFIReactionTypes").LIKE),shouldAnimateOnReactionChange:Boolean(this.props.enableAnimations),size:18,xstyle:k.inlineUFIIcon}):p=j.jsx(b("Image.react"),{alt:"",className:"_6rk2",src:g("347019")});return j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:a===b("UFIReactionTypes").NONE?5:6,children:j.jsx(b("UFI2ActionLink.react"),{floating:f,showIcon:!p,children:function(a){a=a.className;return j.jsx("div",{className:"_666k","data-testid":void 0,children:j.jsx(b("UFI2ReactionLink.react"),{className:b("joinClasses")("_3l2t",a,c),feedback:d,feedbackSource:e,hideDelay:m,interactionEvent:b("UFICommonInteractionEvents").UFI2_STORY_REACTION,mutationInputAugmenter:h,onReactionError:o,showDelay:l,useDefaultActor:i,children:p})})}})})};return c}(j.Component);c.displayName="UFI2ReactionActionLink";e.exports=a(c,{feedback:i!==void 0?i:i=b("UFI2ReactionActionLink_feedback.graphql")})}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2ShareActionLink.react",["cx","fbt","invariant","Promise","ActorURI","AsyncDialog","AsyncRequest","Bootloader","CurrentUser","JSResource","React","TrackingNodes","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2LocalUserAction","UFI2PrimerDialogWrapper.react","UFICommonInteractionEvents","UFICommonInteractionLogger","URI","XShareDialogController","XUISpinner.react","clearTimeout","joinClasses","lazyLoadComponent","qex","setTimeoutAcrossTransitions","UFI2ShareActionLink_feedback.graphql","UFI2ShareActionLink_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var n=b("lazyLoadComponent")(b("JSResource")("UFIShareNowMenu.react").__setRef("UFI2ShareActionLink.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=!1,d.$3=!1,d.$4=null,d.$5=m.createRef(),d.state={focusOnInit:!1,interacted:!1,isLoading:!1,misinformationDialogConfirmed:!1,openAfterMisinformationConfirmed:!1,openAfterPagePostInterceptionConfirmed:!1,openAfterReshareConfirmed:!1,openOnInit:!1,reshareFrictionViewed:!1},d.$6=function(){d.$1!=null&&(b("UFICommonInteractionLogger").endInteraction(d.$1),d.$1=null),d.$3=!0,d.$7()},d.$8=function(){d.$3=!1},d.$9=function(){var a=d.props,c=a.feedbackTargetID;a=a.shareableConfig;var e=a==null?void 0:a.misinformation_confirm_dialog_uri;e!=null||i(0,866);b("Bootloader").loadModules(["ShareWarningFactCheckLinkLogger"],function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(l||(l=b("URI")))(e).getUnqualifiedURI()).setRelativeTo(d.$5.current),function(b){b.subscribe("confirm",function(){d.setState({misinformationDialogConfirmed:!0,openAfterMisinformationConfirmed:!0})}),a.addReshareLoggingToDialog(b,c)})},"UFI2ShareActionLink.react");d.$7()},d.$10=function(){var a;a=(a=d.props.shareableConfig)==null?void 0:a.reshare_warning_framework_dialog_uri;b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(d.$5.current),function(a){a.subscribe("confirm",function(){a.hide(),d.setState({openAfterReshareConfirmed:!0,reshareFrictionViewed:!0}),d.$7()}),a.subscribe("cancel",function(){a.hide(),d.setState({reshareFrictionViewed:!0})})})},d.$12=function(){d.$1==null&&!d.$3&&(d.$1=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS))},d.$14=function(){if(d.$2)return;d.setState({focusOnInit:!0,interacted:!0})},d.$15=function(){d.$2||d.$16()},d.$17=function(){d.$2=!0},d.$18=function(){d.setState({interacted:!0})},d.$16=function(){d.setState({interacted:!0,openOnInit:!0},function(){b("clearTimeout")(d.$4),d.$4=b("setTimeoutAcrossTransitions")(function(){return d.setState(function(a){return a.openOnInit?{isLoading:!0}:null})},300)}),d.$12()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("clearTimeout")(this.$4)};d.$7=function(){b("UFI2LocalUserAction").emit("share",{feedbackNodeToken:this.props.feedbackTargetID})};d.$11=function(a){var c=this;b("Bootloader").loadModules(["PagePostEngagementFrictionActions","PagePostEngagementFictionDialogStrings","promiseDone"],function(d,e,f){var g=new(b("Promise"))(function(b,c){d.showReshareEngagementFrictionDialog(a,function(){return b(!0)},function(){return b(!1)},function(){b(!1);var c=e.getStrings(a);d.goToPage(c.pageId)})}).then(function(a){a&&(c.setState({interacted:!0,openAfterPagePostInterceptionConfirmed:!0}),c.$12())},function(a){throw a});f(g)},"UFI2ShareActionLink.react")};d.$13=function(a){this.$7();var c=b("CurrentUser").isWorkUser()?b("XShareDialogController").getURIBuilder().setEnum("default_audience","group").getURI():b("XShareDialogController").getURIBuilder().getURI();a!=null&&b("AsyncDialog").send(new(b("AsyncRequest"))(c).setData({id:a.shareable_id,parent_fbid:a.shared_from_post_id,type:a.share_type}).setRelativeTo(this.$5.current))};d.render=function(){var a=this,c,d=this.props,e=d.className,f=d.linkClassName,g=d.feedback,h=d.feedbackTargetID,i=d.inverse;d=d.shareableConfig;var j=this.state,k=j.focusOnInit,p=j.interacted,q=j.isLoading,r=j.misinformationDialogConfirmed,s=j.openAfterMisinformationConfirmed,t=j.openAfterReshareConfirmed,u=j.openOnInit;j=j.reshareFrictionViewed;if(!d||!d.share_action_link_uri)return null;g=g==null?void 0:(g=g.viewer_actor)==null?void 0:g.id;var v=d==null?void 0:d.misinformation_confirm_dialog_uri,w=d==null?void 0:d.intercept_for_page_post,x=d==null?void 0:(c=d.share_action_link_primer_attributes)==null?void 0:c.rel,y=new(l||(l=b("URI")))(d==null?void 0:d.share_action_link_uri);c=d==null?void 0:d.share_now_menu_uri;d=d==null?void 0:d.reshare_warning_framework_dialog_uri;if(v&&!r)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(b){b=b.className;return m.jsx(o,{className:b,inverse:i,onClick:a.$9})}});else if(d!=null&&!j)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(b){b=b.className;return m.jsx(o,{className:b,inverse:i,onClick:a.$10})}});if(w&&!this.$3&&!this.state.openAfterPagePostInterceptionConfirmed)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(b){b=b.className;return m.jsx(o,{className:b,inverse:i,onClick:function(b){return a.$11(h)}})}});var z;g&&(y=y&&b("ActorURI").create(y,g),z=c&&new(l||(l=b("URI")))(c).addQueryData("actor_id",g));if(!z)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(b){b=b.className;return m.jsx(o,{className:b,href:y,inverse:i,onClick:function(){return a.$7()},openDialogOnMount:s||t,rel:x})}});var A={isLoading:q,onClick:this.$15,onFocus:this.$14,onMouseDown:this.$17,onMouseOver:this.$18,onMouseUp:this.$16,openDialogOnMount:s||t},B=z.getQueryData();return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(c){c=c.className;return m.jsx("span",{className:b("joinClasses")("_1j6m",e),children:z&&p?m.jsx(m.Suspense,{fallback:m.jsx(o,babelHelpers["extends"]({},A,{className:c,inverse:i})),children:m.jsx(n,{className:"_6800",endpoint:z.getPath(),endpointData:B,focusOnInit:k,onHide:a.$8,onShow:a.$6,openOnInit:u||a.state.openAfterPagePostInterceptionConfirmed,children:m.jsx(o,{className:c,inverse:i,onClick:b("qex")._("1087397")?function(){return a.$13(B)}:function(){return a.$7()},onMouseUp:a.$12})})}):m.jsx(o,babelHelpers["extends"]({},A,{className:c,inverse:i}))})}})};return c}(m.Component);c.displayName="UFI2ShareActionLink";var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=null,b.$2=function(a){b.$1=a},b.$3=function(a){var c=b.props.onClick;c&&(a.preventDefault(),c(a))},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this.props.openDialogOnMount;a===!0&&this.$1&&this.$1.click()};d.render=function(){var a=this.props,c=a.className,d=a.isLoading,e=a.rel;a.href;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","isLoading","rel","href"]);var f=this.props.href&&!this.props.href.isEmpty()?this.props.href.getUnqualifiedURI():"#",g=b("CurrentUser").isWorkUser()?h._("Envoyez-le \u00e0 vos coll\u00e8gues ou publiez-le sur votre journal."):h._("Envoyez ceci \u00e0 vos amis ou publiez-le sur votre journal."),i='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }';d=d===!0?m.jsx(b("XUISpinner.react"),{className:"_2nj6"}):null;return e==="dialog"?m.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:"a",props:babelHelpers["extends"]({},a,{children:m.jsxs(m.Fragment,{children:[h._("Partager"),d]}),className:b("joinClasses")((this.props.inverse?"_6r37":"")+" _2nj7",c),"data-ft":i,href:f.toString(),onClick:this.$3,ref:this.$2,rel:e,role:"button",tabIndex:0,title:g})}):m.jsxs("a",babelHelpers["extends"]({},a,{className:b("joinClasses")((this.props.inverse?"_6r37":"")+" _2nj7",c),"data-ft":i,href:f,onClick:this.$3,ref:this.$2,rel:e,role:"button",tabIndex:0,title:g,children:[h._("Partager"),d]}))};return a}(m.Component);e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2ShareActionLink_feedback.graphql"),shareableConfig:k!==void 0?k:k=b("UFI2ShareActionLink_shareableConfig.graphql")})}),null);
__d("withReparentingGuard",["React","getReactComponentDisplayName","isReactClassComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){function c(c){var d,e,f=b("isReactClassComponent")(c)?c:function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props))};return b}(g.Component),h;function i(b){b&&(h&&h!==b&&a(c),h=b)}var j=b("getReactComponentDisplayName")(c);return e=d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx(f,babelHelpers["extends"]({},this.props,{ref:i}))};return b}(g.Component),d.displayName="withReparentingGuard("+j+")",e}return c}e.exports=a}),null);
__d("createUFI2ComposerPlugin",["FBLogger","withReparentingGuard"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("withReparentingGuard")(function(a){var c;a=(c=(c=a.displayName)!=null?c:a.name)!=null?c:"Unknown";c="The UFI2 comment composer plugin that wraps the `"+a+"` component caused it to be reparented. Learn how to remedy this mustfix here: https://fburl.com/ufi-composer-plugins-must-never-reparent-wrapped-components";b("FBLogger")("ufi2").blameToPreviousFile().mustfix(c)})(a)}e.exports=a}),null);
__d("createBsgCannedCommentsUFI2ComposerPlugin",["React","RelayFBMatchContainer","createUFI2ComposerPlugin","gkx","qex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,b;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return(a=b=e.call.apply(e,[this].concat(d))||this,b.state={focused:!1},b.$1=function(a){b.setState({focused:!0}),b.props.inputProps.onFocus&&b.props.inputProps.onFocus(a)},b.$2=function(a){b.setState({focused:!1}),b.props.inputProps.onBlur&&b.props.inputProps.onBlur(a)},a)||babelHelpers.assertThisInitialized(b)}var f=d.prototype;f.getMatchedComponent=function(){return g.jsx(g.Suspense,{fallback:null,children:g.jsx(b("RelayFBMatchContainer"),{match:a.feedback.marketplace_canned_comments,props:babelHelpers["extends"]({},this.props,{focused:this.state.focused,marketplaceCannedComments:a.feedback.marketplace_canned_comments})})})};f.getShowCannedComments=function(){if(a.feedback.marketplace_canned_comments===null||this.props.inputProps.depth!==0)return!1;return a.renderLocation==="product_details"?b("qex")._("872575")===!0:b("gkx")("920152")};f.render=function(){var a=this.getShowCannedComments();return g.jsxs(g.Fragment,{children:[a?this.getMatchedComponent():null,g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:this.$2,onFocus:this.$1})}))]})};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)}}e.exports=a}),null);
__d("createUFI2LiveTypingBroadcastComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.$2=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2LiveTypingBroadcastComposerPlugin",function(b){return b(a)},function(){return null})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentWillUnmount=function(){this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.componentWillUnmount()};f.$3=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2LiveTypingBroadcastComposerPlugin"],function(b){b=b(a);b.onBootload(c.props,c.state,c.$2);c.setState({upgradedPlugin:b})},"createUFI2LiveTypingBroadcastComposerPlugin"))};f.render=function(){var a=this;if(this.state.upgradedPlugin!=null)return this.state.upgradedPlugin.render(this.props,this.state,c);else return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:function(b){a.props.inputProps.onBlur&&a.props.inputProps.onBlur(b);if(b.isDefaultPrevented())return;a.$2=!1},onFocus:function(b){a.props.inputProps.onFocus&&a.props.inputProps.onFocus(b);if(b.isDefaultPrevented())return;a.$2=!0;a.$3()}})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2AssociateReplyWithParentComposerPlugin",["React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=b.props.inputProps;if(a.__type==="SetReplyAssociation"){var d=a.commentAssociatedWithReply;c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:d})})}else if(a.__type==="SetReplyAssociationLegacy"){var e=a.commentBeingRepliedTo,f=e==null?void 0:e.id;e!=null&&f!=null?c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:{commentComposerPlaceholderText:(a=e.feedback)==null?void 0:a.comment_composer_placeholder,id:f}})}):c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:void 0})})}c.handleCommand&&c.handleCommand(a)},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return b}(g.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("getComposerStateSnapshotter",["memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=a.inputProps;var b=a.depth;a=a.composerState.feedbackID;return JSON.stringify({depth:b,feedback:{id:a}})}function a(a){var b=h(a);return{clear:function(){g["delete"](b)},get:function(){return g.get(b)},set:function(a){g.set(b,a)}}}e.exports=b("memoizeWithArgsWeak")(a)}),null);
__d("createUFI2ComposerStateSnapshotComposerPlugin",["React","createUFI2ComposerPlugin","getComposerStateSnapshotter","killswitch"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=!1,b.$2=function(a){var c=b.props.inputProps.composerState;c=c.inputState.__type==="editor-state-based"?c.inputState.editorState.getCurrentContent().getPlainText():c.inputState.text;c!==""&&(b.$1=!0);b.props.inputProps.onComposerStateChange(a)},b.$3=function(){b.$1=!1,b.props.snapshotter.clear(),b.props.inputProps.onCommit()},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.componentDidMount=function(){var a=this.props,b=a.snapshotter,c=a.initialComposerState;a=a.inputProps;if(c!=null)return;var d=b.get();d!=null&&a.onComposerStateChange(function(a){return d});b.clear()};d.componentWillUnmount=function(){this.$1&&this.props.snapshotter.set(this.props.inputProps.composerState)};d.render=function(){var b=this.props;b.snapshotter;var c=b.inputProps;b=babelHelpers.objectWithoutPropertiesLoose(b,["snapshotter","inputProps"]);return g.jsx(a,babelHelpers["extends"]({},b,{inputProps:babelHelpers["extends"]({},c,{onCommit:this.$3,onComposerStateChange:this.$2})}))};return b}(g.Component);function d(a){return g.jsx(c,babelHelpers["extends"]({},a,{snapshotter:b("getComposerStateSnapshotter")(a)}))}return b("createUFI2ComposerPlugin")(d)}}e.exports=b("killswitch")("UFI2_COMPOSER_STATE_SNAPSHOT_PLUGIN")?function(){return null}:a}),null);
__d("createUFI2ComposerTipPlugin",["cx","React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return function(c){var d=function(d){babelHelpers.inheritsLoose(b,d);function b(){return d.apply(this,arguments)||this}var e=b.prototype;e.render=function(){if(this.props.inputProps.commentAction==="EDIT")return h.jsx(c,babelHelpers["extends"]({},this.props));var b=this.props.inputProps.isCommentDenied;return h.jsxs(h.Fragment,{children:[h.jsx(c,babelHelpers["extends"]({},this.props)),b!==!0&&h.jsx("div",{className:"_6g0t fcg fss",children:a.composer_tip})]})};return b}(h.Component);return b("createUFI2ComposerPlugin")(d)}}e.exports=a}),null);
__d("UFI2ComposerAction.react",["requireCond","cr:844029","React","UFI2TooltipCometCompatWrapper.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={initializeComponentClicked:!1,popoverShown:!1,shouldBeginBootloading:!1},d.$2=function(a){d.$1=!1,d.props.placeholder.props.onBlur&&d.props.placeholder.props.onBlur(a)},d.$3=function(a){d.$1=!0,d.$4(),d.props.placeholder.props.onFocus&&d.props.placeholder.props.onFocus(a)},d.$5=function(a){d.$4(),d.props.placeholder.props.onMouseUp&&d.props.placeholder.props.onMouseUp(a),d.setState(function(a){a=a.initializeComponentClicked;return{initializeComponentClicked:!a}})},d.$6=function(a){d.$4(),d.props.placeholder.props.onMouseOver&&d.props.placeholder.props.onMouseOver(a)},d.$7=function(a){if(a!=null&&d.$1){d.$1=!1;if(b("cr:844029")!=null)b("cr:844029").set(a,!0);else try{a.focus()}catch(a){}}},d.$8=function(a){d.setState({popoverShown:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){this.state.shouldBeginBootloading||this.setState({shouldBeginBootloading:!0})};d.render=function(){var a=this.state,c=a.popoverShown;a=a.shouldBeginBootloading;var d=this.props,e=d.resource;d=d.label;var f=g.cloneElement(this.props.placeholder,{hasBeenClicked:this.state.initializeComponentClicked,onBlur:this.$2,onFocus:this.$3,onMouseOver:this.$6,onMouseUp:this.$5});return g.jsx(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,position:"above",tooltip:c?null:d,children:g.jsx(g.Suspense,{fallback:f,children:a?g.jsx(e,babelHelpers["extends"]({onFocusableElementRefChange:this.$7,onTogglePopover:this.$8},this.props.createComponentProps({clicked:this.state.initializeComponentClicked}))):f})})};return c}(g.Component);e.exports=a}),null);
__d("UFI2ComposerActionPlaceholder.react",["cx","requireCond","cr:1232139","React","UFI2LinkWrapper.react","cr:1232140"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;if(this.props.hasBeenClicked===!0){b("cr:1232140")!=null?a=h.jsx(b("cr:1232140"),{className:"_2wv6",size:"small"}):b("cr:1232139")!=null&&(a=h.jsx("div",{className:"_2wv6",children:h.jsx(b("cr:1232139"),{color:"disabled",duration:1.2,size:12,type:"estimated"})}));return a}return h.jsx(b("UFI2LinkWrapper.react"),{"aria-label":this.props.label,className:this.props.buttonClassName,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onMouseOver:this.props.onMouseOver,onMouseUp:this.props.onMouseUp,role:"button",children:h.jsx("div",{className:this.props.iconClassName})})};return c}(h.PureComponent);e.exports=a}),null);
__d("UFI2InsertEmojiComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2EmojiInputButton.react").__setRef("UFI2InsertEmojiComposerAction.react"));function a(a){var c=h._("Ins\u00e9rez un emoji");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _1ta3",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:b,onComposerStateChange:a.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2EmojiComposerActionComponentPlugin",["requireDeferred","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2EmojiComposerPlugin");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("ifRequired").call(null,"getUpgradedUFI2EmojiComposerPlugin",function(b){return b(a)})},d.$1=function(a,b){if(d.state.upgradedPlugin!=null)return d.state.upgradedPlugin.handleKeyCommand(d.props.inputProps,a,b);else return d.props.inputProps.handleKeyCommand?d.props.inputProps.handleKeyCommand(a,b):"not-handled"},d.$2=function(a){h.loadImmediately(d.$3),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$3=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$3))};f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installEmojiInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,handleKeyCommand:this.$1,onFocus:this.$2})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2EmojiComposerPlugin",["React","UFI2InsertEmojiComposerAction.react","createUFI2ComposerPlugin","createUFI2EmojiComposerActionComponentPlugin","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertEmojiComposerAction.react"),{onComposerStateChange:this.props.inputProps.onComposerStateChange},"emojiComposerAction")])}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))};return[c,b("createUFI2EmojiComposerActionComponentPlugin")(a)]}e.exports=a}),null);
__d("createUFI2EmoticonsComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2EmoticonsComposerPlugin");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h,a)},d.$1=function(a){h.loadImmediately(d.$2),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$2=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$2))};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.render=function(){if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$1})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("UFI2InsertGIFComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","gkx","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertGIFButton.react").__setRef("UFI2InsertGIFComposerAction.react")),k=b("lazyLoadComponent")(b("JSResource")("CometUFIInsertGIFButton.react").__setRef("UFI2InsertGIFComposerAction.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.onComposerStateChange,d=a.ftentidentifier,e=h._("Publiez un GIF");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{buttonClassName:"_1t9_ _1ny6",ftentidentifier:d,iconActiveClassName:"_1ny9",iconClassName:"_1nyp",initiallyVisible:a,label:e,onComposerStateChange:c}},label:e,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ny6",iconClassName:"_1nyp",label:e}),resource:b("gkx")("708253")?k:j})};return c}(i.PureComponent);e.exports=a}),null);
__d("UFI2ComposerPreviewArea.react",["cx","CloseButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.children,d=a.className,e=a.onRemoveClick,f=a.removeButtonLabel;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","onRemoveClick","removeButtonLabel"]);return h.jsxs("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(d,"_1llh"),children:[c,h.jsx(b("CloseButton.react"),{ariaLabel:f,className:"_1lli",onClick:e,tooltip:f})]}))}e.exports=a}),null);
__d("createUFI2GIFComposerActionComposerPlugin",["cx","fbt","UFI2NUXConfig","React","UFI2ComposerPreviewArea.react","Image.react","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";b("UFI2NUXConfig");var i=b("React"),j="GIF";function k(a){return a.attachment&&a.attachment.__type===j?a.attachment.data:null}function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.$1=function(a){b.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},a)||babelHelpers.assertThisInitialized(b)}var e=c.prototype;e.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type===j?{link:{external:{url:a.data.source.url}}}:null})};e.componentDidUpdate=function(a){var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=k(b);if(a.attachment==null&&c&&k(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}};e.render=function(){var c=this.props.inputProps.composerState;c=k(c);return i.jsxs("div",{className:"_17pg",children:[i.jsx(a,babelHelpers["extends"]({},this.props)),c?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:h._("Supprimer le GIF"),children:i.jsx(b("Image.react"),{className:"_17pj mas",height:c.media.preview.height,src:c.media.preview.url,width:c.media.preview.width})}):null]})};return c}(i.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("createUFI2GIFComposerPlugin",["cx","React","UFI2InsertGIFComposerAction.react","createUFI2ComposerPlugin","createUFI2GIFComposerActionComposerPlugin","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,b;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return(a=b=e.call.apply(e,[this].concat(d))||this,b.action=h.createRef(),a)||babelHelpers.assertThisInitialized(b)}var f=d.prototype;f.render=function(){var d=this.props.inputProps.composerState;return h.jsx("div",{className:"_17pg",children:h.jsx(c,babelHelpers["extends"]({},this.props,{actions:d.attachment?this.props.actions:[].concat(this.props.actions,[h.jsx(b("UFI2InsertGIFComposerAction.react"),{ftentidentifier:b("qex")._("1000665")?a.ftentidentifier:null,onComposerStateChange:this.props.inputProps.onComposerStateChange,ref:this.action},"gifComposerAction")])}))})};return d}(h.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2GIFComposerActionComposerPlugin")()]}e.exports=a}),null);
__d("createUFI2HashtagComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2HashtagComposerPlugin");function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h)},c.$1=function(a){h.loadImmediately(c.$2),c.props.inputProps.onFocus&&c.props.inputProps.onFocus(a)},c.$2=function(a){c.state.upgradedPlugin||c.setState({upgradedPlugin:a()})},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$2))};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installHashtagInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,onFocus:this.$1})}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("UFI2MediaUploadComposerAction.react",["cx","fbt","Event","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2MediaUploadButton.react").__setRef("UFI2MediaUploadComposerAction.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=a.target.files.item(0);d.props.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},d.$2=function(a){a=document.createElement("input");a.setAttribute("accept",b("UFICommentFileInputAcceptValues").both);a.setAttribute("type","file");d.props.subscriptionsHandler.addSubscriptions(b("Event").listen(a,"change",d.$1));a.click()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props.hasErrored?h._("Une erreur s\u2019est produite avec la pi\u00e8ce jointe, veuillez r\u00e9essayer"):h._("Joignez une photo ou une vid\u00e9o");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{fileIsHoveringOverDropTarget:a.props.fileIsHoveringOverDropTarget,hasErrored:a.props.hasErrored,initialUploadDialogIsOpen:b,label:c,onComposerStateChange:a.props.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7ja_",iconClassName:(this.props.fileIsHoveringOverDropTarget?"_3n42":"")+(!this.props.fileIsHoveringOverDropTarget&&!this.props.hasErrored?" _3n43":"")+(this.props.hasErrored?" _3nb4":""),label:c,onMouseUp:this.$2}),resource:j})};return c}(i.Component);a.defaultProps={fileIsHoveringOverDropTarget:!1,hasErrored:!1};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isMimeTypeForMedia",["UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";var g=b("UFICommentFileInputAcceptValues").photos,h=b("UFICommentFileInputAcceptValues").videos,i={"image/gif":"video"},j,k;function l(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function a(a){k==null&&(k=l(g));var b=i[a];return b!=null?b==="photo":k.some(function(b){return a.startsWith(b)})}function c(a){j==null&&(j=l(h));var b=i[a];return b!=null?b==="video":j.some(function(b){return a.startsWith(b)})}e.exports={isMimeTypeForPhoto:a,isMimeTypeForVideo:c}}),null);
__d("mimeTypeIsAcceptableToUFI2MediaUploadPlugin",["isMimeTypeForMedia"],(function(a,b,c,d,e,f){"use strict";var g=b("isMimeTypeForMedia").isMimeTypeForPhoto,h=b("isMimeTypeForMedia").isMimeTypeForVideo;function a(a){return g(a)||h(a)}e.exports=a}),null);
__d("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin",["mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.kind==="file"&&b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)}function a(a){var b=a.items;a=a.types;return b==null||a==null||Array.from(a).includes("Files")===!1?-1:Array.from(b).findIndex(function(a){return g(a)})}e.exports=a}),null);
__d("createUFI2MediaUploadComposerPlugin",["cx","fbt","Bootloader","ProgressBar.react","React","UFI2ComposerPreviewArea.react","UFI2MediaUploadComposerAction.react","createUFI2ComposerPlugin","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,b){a.inputProps.onComposerStateChange(function(a){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function k(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function l(a,b,c){if(b==="ufi-commit"){var d=a.inputProps.composerState;d=d&&d.attachment&&d.attachment.__type==="Media"&&d.attachment.reference.__type;if(d==="File"||d==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b,c):"not-handled"}function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=0,d.$2=!1,d.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2MediaUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},d.$4=function(a){d.$1++;var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&(a.preventDefault(),d.$1>0&&d.setState({fileIsHoveringOverDropTarget:!0}))},d.$5=function(a){d.$1--,d.$1===0&&d.setState({fileIsHoveringOverDropTarget:!1})},d.$7=function(a){var b=a.dataTransfer;b!=null&&d.$3(a,b);d.$1=0;d.setState({fileIsHoveringOverDropTarget:!1})},d.$8=function(a){if(a.isDefaultPrevented())return;var b=a.clipboardData;if(b==null)return;d.$3(a,b)},d.$9=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)});if(a){j(d.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"},d.$10=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(a,c){if(c==null)return;var d=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c);if(d===-1)return;c=Array.from(c.items);c=d<c.length?c[d].getAsFile():null;c!=null&&(a.preventDefault(),j(this.props,c))};f.$6=function(a){var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&a.preventDefault()};f.$11=function(){var c=this;if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MediaUploadComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2MediaUploadComposerPlugin"))};f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.$12=function(){if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.render=function(){var a=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$4,this.$5,this.$6,this.$7,l,this.$8,this.$9,c);var d=k(this.props.inputProps.composerState),e=i.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[i.jsx(b("UFI2MediaUploadComposerAction.react"),{fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,hasErrored:!1,onComposerStateChange:this.props.inputProps.onComposerStateChange},"mediaUploadComposerAction")]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(b,c){return l(a.props,b,c)},handlePastedFiles:this.$9})})),f=h._("Annuler l\u2019importation");return i.jsxs("div",{className:"_25-w",onDragEnter:this.$4,onDragLeave:this.$5,onDragOver:this.$6,onDrop:this.$7,children:[e,d?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$10,removeButtonLabel:f,children:i.jsx(b("ProgressBar.react"),{label:h._("{value} \u0025",[h._param("value","0")]),value:0})}):null]})};return d}(i.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2MentionsComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return function(c){var d=!1,e=function(f){babelHelpers.inheritsLoose(e,f);function e(){var c,e;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(c=e=f.call.apply(f,[this].concat(h))||this,e.state={characterOffset:0,mentionableEntities:[],selectedMentionableEntity:null,upgradedPlugin:b("ifRequired").call(b("ifRequired"),a.upgradedPluginResource.getModuleId(),function(b){return b(a,d)},function(){return null})},e.$1=!1,e.$3=function(a){d=!1,e.props.inputProps.onBlur&&e.props.inputProps.onBlur(a)},e.$4=function(a){d=!0,e.$2(),e.props.inputProps.onFocus&&e.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(e)}var h=e.prototype;h.componentDidMount=function(){var a=this;this.state.upgradedPlugin!=null?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$2()}))};h.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin&&this.state.upgradedPlugin.componentDidUpdate(a,b,this.props,this.state,this.setState.bind(this))};h.componentWillUnmount=function(){this.state.upgradedPlugin&&this.state.upgradedPlugin.componentWillUnmount()};h.$2=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),[a.upgradedPluginResource.getModuleId()],function(b){c.setState({upgradedPlugin:b(a,d)})},"createUFI2MentionsComposerPlugin"))};h.render=function(){var a=this.props;a.subscriptionsHandler;a=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),c);else return g.jsx(c,babelHelpers["extends"]({},a,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:this.$3,onFocus:this.$4})}))};return e}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(e))}}e.exports=a}),null);
__d("createUFI2PrefillMentionComposerPlugin",["requireDeferred","FBLogger","React","UFIODSLogger","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2PrefillMentionComposerPlugin");function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h)},c.$1=function(a){var d=c.state.upgradedPlugin;d?(a.__type==="PrefillMention"&&b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.with_implementation","relay"),d.handleCommand(a,c.props.inputProps)):(a.__type==="PrefillMention"&&(b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.without_implementation","relay"),b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention before the prefill code had loaded. Nothing fatal happened, but the users involved experienced a degraded experience; the original author of the comment that was being replied to was likely not mentioned, hence they might not have been notified of the reply.")),c.props.inputProps.handleCommand&&c.props.inputProps.handleCommand(a))},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){var a=this;this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(function(b){a.setState({upgradedPlugin:b()})}))};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("createUFI2SetReplyClickedComposerPlugin",["React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=b.props.inputProps;a.__type==="SetReplyClicked"&&c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{replyTargetClicked:!0})});c.handleCommand&&c.handleCommand(a)},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return b}(g.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("UFI2InsertStarsComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertStarsButton.react").__setRef("UFI2InsertStarsComposerAction.react"));function a(a){var c=h._("Joindre des \u00e9toiles");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _88o2",feedbackID:a.feedbackID,iconActiveClassName:"_88o3",iconClassName:"_88o4",initiallyVisible:b,label:c,onComposerStateChange:a.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _88o2",iconClassName:"_88o4",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2StarsComposerActionComposerPlugin",["ix","cx","fbt","CometStarsVirtualGiftView.react","FlexLayout.react","Image.react","React","TetraText.react","UFI2ComposerPreviewArea.react","asset","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){return a.attachment&&a.attachment.__type==="Stars"?{amount:a.attachment.amount,gift:a.attachment.gift}:null}function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.$1=function(a){b.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},a)||babelHelpers.assertThisInitialized(b)}var e=c.prototype;e.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){if(a.__type==="Stars"){return{stars:{amount:a.amount,gift_id:(a=a.gift)==null?void 0:a.id}}}return null})};e.render=function(){var c=k(this.props.inputProps.composerState);return j.jsxs("div",{children:[j.jsx(a,babelHelpers["extends"]({},this.props)),c!=null?j.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:i._("Supprimer les \u00e9toiles"),children:j.jsx(l,{gift:c.gift,starAmount:c.amount})}):null]})};return c}(j.Component);return b("createUFI2ComposerPlugin")(c)}}function l(a){var c=a.gift;a=a.starAmount;return c!=null?j.jsx(b("CometStarsVirtualGiftView.react"),babelHelpers["extends"]({},c,{isSelected:!1})):j.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-8i",children:[j.jsx(b("Image.react"),{className:"_3-8s",src:g("647932")}),j.jsx(b("TetraText.react"),{type:"bodyLink4",children:i._("{star quantity} \u00e9toiles",[i._param("star quantity",a)])})]})}e.exports=a}),null);
__d("createUFI2StarsComposerPlugin",["React","UFI2InsertStarsComposerAction.react","createUFI2ComposerPlugin","createUFI2StarsComposerActionComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment||this.props.inputProps.depth>0||this.props.inputProps.commentAction!=="ADD"?this.props.actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertStarsComposerAction.react"),{feedbackID:a.feedbackID,onComposerStateChange:this.props.inputProps.onComposerStateChange},"starsComposerAction")])}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2StarsComposerActionComposerPlugin")()]}e.exports=a}),null);
__d("UFI2InsertStickerComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertStickerButton.react").__setRef("UFI2InsertStickerComposerAction.react"));function a(a){var c=h._("Envoyez un sticker");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _2r-o",feedbackID:a.feedbackID,iconActiveClassName:"_2r-q",iconClassName:"_2r-r",initiallyVisible:b,label:c,onComposerStateChange:a.onComposerStateChange,targetID:a.targetID}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _2r-o",iconClassName:"_2r-r",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2StickersComposerActionComposerPlugin",["cx","fbt","Bootloader","FBLogger","LoadingIndicator.react","React","UFI2ComposerPreviewArea.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2StickersComposerPlugin",function(b){return b(a)},function(){return null})},d.$2=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},d.$3=function(a){d.props.inputProps.onComposerStateChange(function(){return{attachment:null}}),b("FBLogger")("ufi2").catching(a).mustfix("Encountered an error while rendering a sticker.")},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$4=function(c){var d=i.jsx(b("LoadingIndicator.react"),{className:"_1rwi mal",color:"blue",size:"small"});if(this.state.upgradedPlugin)return this.state.upgradedPlugin.renderSticker(a.environment,d,this.$3,c);else return d};f.$5=function(){if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Sticker"};f.$6=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2StickersComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2StickersComposerActionComposerPlugin"))};f.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null}),this.$5()&&this.$6()};f.componentDidUpdate=function(a){var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=j(b);if(this.props.inputProps.commentAction==="ADD"&&b.updateSource==="UFI2InsertStickerButton"&&a.attachment==null&&c!=null&&j(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}this.$5()&&this.$6()};f.render=function(){var a=j(this.props.inputProps.composerState);return i.jsxs("div",{className:"_1rwk",children:[i.jsx(c,babelHelpers["extends"]({},this.props)),a!=null?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$2,removeButtonLabel:h._("Supprimer le sticker"),children:this.$4(a)}):null]})};return d}(i.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2StickersComposerPlugin",["React","UFI2InsertStickerComposerAction.react","createUFI2ComposerPlugin","createUFI2StickersComposerActionComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertStickerComposerAction.react"),{feedbackID:this.props.inputProps.composerState.feedbackID,onComposerStateChange:this.props.inputProps.onComposerStateChange,targetID:a.targetID},"stickersComposerAction")])}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2StickersComposerActionComposerPlugin")({environment:a.environment,targetID:a.targetID})]}e.exports=a}),null);
__d("isFeedStoryUFICommentFresh",["RelayModern","isCommentFresh","isFeedStoryUFICommentFresh.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;g!==void 0?g:g=b("isFeedStoryUFICommentFresh.graphql");e.exports=function(a){var c=a.comment,d=a.feedLocation,e=a.group;a=a.streamLastViewTime;if(b("isCommentFresh")(c))return!0;if(d!=="NEWSFEED"&&e!=null&&a!=null){d=c.created_time;if(d!=null)return a<d}return!1}}),null);
__d("FeedStoryUFIRenderer.react",["cx","BootloadedComponent.react","FBLogger","FeedStoryUFISummary.react","FeedStoryUFITopLevelCommentList.react","JSResource","React","RelayFBEnvironment","RelayUFI2Environment","UFI2ActorSelector.react","UFI2CometRelayCreateFragmentContainer","UFI2CommentActionLink.react","UFI2CommentDisabledNotice.react","UFI2CommentsList.react","UFI2Composer.react","UFI2CreateCommentMutation","UFI2FeedbackCommentReactSubscription","UFI2FeedbackReactSubscription","UFI2LazyCodedErrorDialog.react","UFI2PrivateReplyActionLink.react","UFI2ReactionActionLink.react","UFI2RealtimeContainer.react","UFI2RealtimeRoot.react","UFI2ScrollHoldingContainer.react","UFI2ShareActionLink.react","UFI2SurfaceContainerContext","UFI2ViewOption","VideoUploadFlowNotifier","VideoUploadSurface","XUISpinner.react","createBsgCannedCommentsUFI2ComposerPlugin","createUFI2LiveTypingBroadcastComposerPlugin","cxMargin","getCommentCreateMutationPropertiesFromTrackingData","getConsumerFacebookUFI2ComposerPlugins","gkx","isFeedStoryUFICommentFresh","nullthrows","tooltipPropsFor","FeedStoryUFIRenderer_feedback.graphql","FeedStoryUFIRenderer_group.graphql","FeedStoryUFIRenderer_shareableConfig.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("VideoUploadFlowNotifier").VideoPostActions,m=b("VideoUploadSurface").VideoUploadSurface,n=b("VideoUploadSurface").VideoUploadSurfaceIDs,o=b("BootloadedComponent.react").create(b("JSResource")("UFI2CommentingAsConstituentHeader.react").__setRef("FeedStoryUFIRenderer.react")),p=b("BootloadedComponent.react").create(b("JSResource")("UFIFrictionTapToSeeBlingBar.react").__setRef("FeedStoryUFIRenderer.react"));function q(a){return a===1}function r(a){return a!=null?b("RelayUFI2Environment").forActor(a):b("RelayFBEnvironment")}function s(a,c){var d=a.feedback,e=a.group,f=d.viewer_actor,g=d.mentions_datasource_js_constructor_args_json,h=f&&f.id,i=r(h);a=a.storyRenderLocation;return{composerPluginProps:{initialPlugins:[].concat(b("getConsumerFacebookUFI2ComposerPlugins")({actor:f,environment:i,feedback:d,group:e,pluginsToInsertBeforePositions:null}),[f?b("createUFI2LiveTypingBroadcastComposerPlugin")({feedback:d,relayEnvironment:i}):null,(a==="group"||a==="group_permalink"||a==="product_details")&&(e==null?void 0:e.is_forsale_group)===!0?b("createBsgCannedCommentsUFI2ComposerPlugin")({feedback:d,renderLocation:a}):null]).filter(Boolean)},editingCommentID:null,maybeCodedError:null,mirroredCurrentActor:h,mirroredMentionsDataSourceJSON:g,renderedTranslationCommentID:null,shouldRequestTranslationForAllComments:Boolean(c==null?void 0:c.shouldRequestTranslationForAllComments)}}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state=s(d.props,null),d.$2=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackCommentReactSubscription").subscribe(r(d.state.mirroredCurrentActor),{top_level_feedback_id:c},d.props.useDefaultActor,a,d.context.isComet):null},d.$3=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackReactSubscription").subscribe(r(d.state.mirroredCurrentActor),{feedback_id:c},d.props.useDefaultActor,a):null},d.$4=function(){d.$1&&d.$1.Actions.toggleList({focusComposer:!1})},d.$5=function(a){d.$1?(d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),a.preventDefault()):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.feedbackTargetID||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},d.$6=function(){d.$1&&d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0})},d.$7=function(a){var c=a.actorID,e=a.clientID,f=a.commentData,g=a.entitiesByID,h=a.environment,i=a.feedLocation,j=a.feedbackSource,k=a.focusCommentID,o=a.getTrackingDataFn,p=a.topLevelFeedbackID;a=a.useDefaultActor;if(!f)return;var q=["ADD",f==null?void 0:f.feedback_id].join("_"),r=m.getOrCreate(n.COMMENTS),s=r.notifiers().getExistingOrNoOpByID(q);s.notifyOnPostAction({action:l.POST_USER_REQUESTED});b("UFI2CreateCommentMutation").commit({actorID:c,clientID:e,containerMapping:b("nullthrows")((c=d.context)==null?void 0:c.containerMapping),entitiesByID:g,environment:h,feedLocation:i,feedbackSource:j,focusCommentID:k,input:babelHelpers["extends"]({},f,b("getCommentCreateMutationPropertiesFromTrackingData")(o)),isComet:d.context.isComet,onCompleted:function(){s.notifyOnPostAction({action:l.POST_SUCCESSFUL}),r.notifiers().clear(q)},onError:function(a){s.notifyOnPostAction({action:l.POST_FAILED}),d.$8(a)},topLevelFeedbackId:p,useDefaultActor:a})},d.$9=function(){d.setState(function(a){return a.maybeCodedError==null?null:{maybeCodedError:babelHelpers["extends"]({},a.maybeCodedError,{acknowledged:!0})}})},d.$8=function(a){d.setState({maybeCodedError:{acknowledged:!1,error:a}})},d.$10=function(){d.setState({shouldRequestTranslationForAllComments:!0})},d.$11=function(a){d.setState({editingCommentID:a})},d.$12=function(a){d.setState({renderedTranslationCommentID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){var c,d=b.mirroredCurrentActor,e=b.mirroredMentionsDataSourceJSON,f=a.feedback;return((c=f)!=null?(c=c.viewer_actor)!=null?c.id:c:c)!==d||f.mentions_datasource_js_constructor_args_json!==e?s(a,b):null};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.displayCommentsContext,e=c.feedLocation,f=c.feedback,g=c.feedbackSource,h=c.feedbackTargetID,i=c.group,j=c.focusCommentID,l=c.onActorChange,m=c.shareableConfig,n=c.streamLastViewTime,p=c.storyRenderLocation;c=c.useDefaultActor;var q=this.state,r=q.composerPluginProps,s=q.editingCommentID,u=q.maybeCodedError,v=q.renderedTranslationCommentID,w=q.shouldRequestTranslationForAllComments,x={feedLocation:e,feedback:f,feedbackSource:g,feedbackTargetID:h,onActorChange:l,onClickCommentsCount:this.$4,onCommentClick:this.$5,shareableConfig:m,useDefaultActor:c};return k.jsxs(k.Fragment,{children:[k.jsxs(b("UFI2RealtimeRoot.react"),{enabled:f.is_eligible_for_real_time_updates===!0,children:[b("gkx")("695963")?k.jsx("a",babelHelpers["extends"]({},b("tooltipPropsFor")("[FB-Only] UFI2 Feedback","below","right"),{className:"_4nlk",href:"https://fburl.com/1yvcgcek",target:"_blank",children:"UFI2"})):null,k.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$2,children:k.jsx(b("UFI2CommentsList.react"),{displayCommentsContext:d,fallback:k.jsxs(k.Fragment,{children:[k.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$3,children:k.jsx(t,babelHelpers["extends"]({},x))}),(q=this.props.commentsListFallback)!=null?q:null]}),feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:j,listRef:function(b){a.$1=b},useDefaultActor:c,children:function(c){var d,l,m=c.depth,q=c.getComposerProps,u=c.listState,y=c.viewOption,z=c.Selectors;y=b("UFI2ViewOption").isChronologicalOrder(y);var A=z.getVisibleCommentsCount({depth:m,state:u});z=z.isComposerVisible({depth:m,state:u});u=f.can_viewer_comment===!0;l=(l=f)!=null?l.viewer_actor:l;u&&!l&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",h||"UNKNOWN").mustfix("FeedStoryUFI: Cant render composer without actor");d=(d=f)!=null?d.constituent_badge_banner_link:d;u=f.have_comments_been_disabled===!0||f.is_viewer_muted===!0?k.jsx(b("UFI2CommentDisabledNotice.react"),{feedback:f}):z&&u&&l!=null?k.jsxs(k.Fragment,{children:[d!=null?k.jsx(o,{bootloadPlaceholder:k.jsx("div",{className:"_3-8t",children:k.jsx(b("XUISpinner.react"),{})}),uri:d}):null,k.createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},r,q(),{actor:l,className:"clearfix _4eez _43u6"+(A===0?" _4jby":"")+(!y&&A>0?" _1k8x":""),commentAction:"ADD",depth:m,key:"composerForUID"+((z=l.id)!=null?z:"UNKNOWN"),onCommit:a.$7}))]}):null;return k.jsxs(k.Fragment,{children:[k.jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$3,children:k.jsx(t,babelHelpers["extends"]({},x))}),k.jsx(b("FeedStoryUFITopLevelCommentList.react"),{commentsListRenderProps:c,composer:u,composerPluginProps:r,editingCommentID:s,feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:j,isCommentFresh:function(a){return b("isFeedStoryUFICommentFresh")({comment:a,feedLocation:e,group:i,streamLastViewTime:n})},onAddCommentClick:a.$6,onCommitCommentCreate:a.$7,onEditCommentError:a.$8,onTranslateAllClick:a.$10,renderedTranslationCommentID:v,setEditingCommentID:a.$11,setRenderedTranslationCommentID:a.$12,shouldRequestTranslationForAllComments:w,storyRenderLocation:p})]})}})})]}),u&&k.jsx(b("UFI2LazyCodedErrorDialog.react"),{error:u.error,onHide:this.$9,shown:u.acknowledged===!1})]})};return c}(k.Component);c.displayName="FeedStoryUFIRenderer";c.contextType=b("UFI2SurfaceContainerContext");function t(a){var c=a.feedback,d=a.feedbackTargetID,e=a.feedbackSource,f=a.onActorChange,g=a.onCommentClick,h=a.onClickCommentsCount,i=a.shareableConfig,j=a.useDefaultActor;h=c.show_tap_to_see_bling_bar===!0?k.jsx(p,{bootloadPlaceholder:k.jsx("div",{}),feedback:c,onClickSeeComments:h}):k.jsx(b("FeedStoryUFISummary.react"),{feedback:c,onClickCommentsCount:h});a=a.feedLocation==="GOODWILL_THROWBACK_PERMALINK"?null:k.jsxs("div",{className:"_1dnh",children:[c.can_see_voice_switcher===!0?k.jsx(b("UFI2ActorSelector.react"),{className:"_1dnk",feedback:c,onActorChange:f}):null,k.jsxs("div",{className:"_3vuz",children:[c.can_viewer_react===!0&&k.jsx(b("UFI2ReactionActionLink.react"),{enableAnimations:!0,feedback:c,feedbackSource:e,useDefaultActor:j}),c.can_viewer_comment===!0&&k.jsx(b("UFI2CommentActionLink.react"),{onClick:g}),k.jsx(b("UFI2ShareActionLink.react"),{feedback:c,feedbackTargetID:d,shareableConfig:i}),k.jsx(b("UFI2PrivateReplyActionLink.react"),{feedback:c,feedbackSource:e,seeResponseLabel:!1})]})]});f=k.jsxs("div",{className:"_78bu",children:[h,a]});return q(e)?k.jsx(b("UFI2ScrollHoldingContainer.react"),{children:f}):f}e.exports=a(c,{feedback:h!==void 0?h:h=b("FeedStoryUFIRenderer_feedback.graphql"),group:i!==void 0?i:i=b("FeedStoryUFIRenderer_group.graphql"),shareableConfig:j!==void 0?j:j=b("FeedStoryUFIRenderer_shareableConfig.graphql")})}),null);
__d("FeedStoryUFI.react",["invariant","cx","FBLogger","FeedStoryUFIRenderer.react","JSResource","RelayAPIConfig","RelayModern","RelayPreloadedQueryRenderer.react","RelayUFI2Environment","UFI2LocalUserAction","UFIODSLogger","XUISpinner.react","FeedStoryUFICommentActionLinks.react","FeedStoryUFICommentActorLinkBadges.react","FeedStoryUFICommentAttachments.react","FeedStoryUFICommentBody.react","FeedStoryUFIHideUntilVisibleOrDDRoot.react","React","UFI2CommentActorName.react","UFI2ProfileLink.react","UFI2SurfaceContainerProvider.react","isIntern","lazyLoadComponent","FeedStoryUFIRootQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=b("React"),l=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFIError.react").__setRef("FeedStoryUFI.react")),m=b("RelayAPIConfig").actorID;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={actorID:(c=e.props.defaultActorID)!=null?c:m},e.$1=function(a){var c=a.error;a=a.props;var d=e.props,f=d.queryVariables;d=d.streamLastViewTime;if(c)return k.jsx(k.Suspense,{fallback:k.jsx(b("XUISpinner.react"),{className:"_2sy3",size:"large"}),children:k.jsx(l,{error:c})});if(a==null)return k.jsx(b("XUISpinner.react"),{className:"_2sy3",size:"large"});c=a.feedback;var g=a.group;a=a.shareable_config;if(!c){b("isIntern")()?b("FBLogger")("ufi2").mustfix("Query is missing feedback data for an intern endpoint."):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedbackTargetID||"UNKNOWN").mustfix("Query is missing feedback data.");return null}var h=f.displayCommentsContextEnableComment,i=f.displayCommentsContextIsAdPreview,j=f.displayCommentsContextIsAggregatedShare,m=f.displayCommentsContextIsStorySet,n=f.displayCommentsFeedbackContext,o=f.feedLocation,p=f.feedbackTargetID,q=f.focusCommentID;f=f.feedbackSource;return k.jsx(b("FeedStoryUFIRenderer.react"),{displayCommentsContext:{enableComment:h,feedbackContext:n,isAdPreview:i,isAggregatedShare:j,isStorySet:m},feedLocation:o,feedback:c,feedbackSource:f,feedbackTargetID:p,focusCommentID:q,group:g,onActorChange:e.$2,shareableConfig:a,storyRenderLocation:e.props.storyRenderLocation,streamLastViewTime:d,useDefaultActor:e.state.actorID===e.props.defaultActorID})},e.$2=function(a){e.setState({actorID:a})},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){b("UFIODSLogger").bump("componentDidMount.feedstory","relay")};d.componentDidUpdate=function(a,c){c.actorID!==this.state.actorID&&b("UFI2LocalUserAction").emit("actor-changed",{actorID:this.state.actorID,feedbackID:this.props.queryVariables.feedbackTargetID})};d.render=function(){var a=this.state.actorID,d=a===this.props.defaultActorID;a=this.props.usePreloadedQueryRenderer&&d?k.jsx(b("RelayPreloadedQueryRenderer.react"),{environment:b("RelayUFI2Environment").forActor(a),query:c.query,render:this.$1}):k.jsx(j,{environment:b("RelayUFI2Environment").forActor(a),query:c.query,render:this.$1,variables:babelHelpers["extends"]({},this.props.queryVariables,{useDefaultActor:d})});d=this.props;var e=d.hideUntilVisibleOrDD;d=d.bigPipeContext;var f={containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1};d=d==null?void 0:d.onDisplayDone;f={components:{CommentActionLinksComponent:b("FeedStoryUFICommentActionLinks.react"),CommentActorLinkBadgesComponent:b("FeedStoryUFICommentActorLinkBadges.react"),CommentActorNameComponent:b("UFI2CommentActorName.react"),CommentAttachmentComponent:b("FeedStoryUFICommentAttachments.react"),CommentBodyComponent:b("FeedStoryUFICommentBody.react"),ProfileLinkComponent:b("UFI2ProfileLink.react")},containerMapping:f,isComet:!1};return e===!0&&d?k.jsx(b("FeedStoryUFIHideUntilVisibleOrDDRoot.react"),{onDisplayDone:d,children:k.jsx(b("UFI2SurfaceContainerProvider.react"),{providerValue:f,children:a})}):k.jsx(b("UFI2SurfaceContainerProvider.react"),{providerValue:f,children:a})};return c}(k.PureComponent);a.query=i!==void 0?i:i=b("FeedStoryUFIRootQuery.graphql");a.displayName="FeedStoryUFI";e.exports=a}),null);
__d("FBStoriesPrivacySelectorClickHandler",["Bootloader","CSS","Event","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a={registerForClick:function(a){var c=a.button,d=a.buttonIcon,e=a.buttonSpinner,f=a.container,g=a.privateSharingOn,h=a.menuAlignh,i=a.menuPosition,j=new(b("SubscriptionsHandler"))();j.addSubscriptions(b("Event").listen(c,"click",function(a){a.stopPropagation(),b("CSS").hide(d),b("CSS").show(e),b("Bootloader").loadModules(["FBStoriesPrivacySelector"],function(a){a.onClick({buttonIcon:d,buttonSpinner:e,container:f,privateSharingOn:g,menuAlignh:h,menuPosition:i})},"FBStoriesPrivacySelectorClickHandler")}));b("Run").onBeforeUnload(function(){j.release()})}};e.exports=a}),null);
__d("ReactFeedSproutsComposerXStoryPost",["BanzaiODS","Bootloader","ComposerStoryCreateMutationWebGraphQLMutation","WebGraphQLLegacyHelper","XWebGraphQLMutationController","uuid"],(function(a,b,c,d,e,f){"use strict";a={bootload:function(){b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(){},"ReactFeedSproutsComposerXStoryPost")},postToStory:function(a){var c=b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),d=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:c});c=[{stories:{self:{target_id:a.targetID}}}];var e={actor_id:a.actorID,client_mutation_id:b("uuid")(),source:"WWW",audiences:c,message:{text:a.text,ranges:[]}};b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(c){c=new c(a.composerID,d).setHandler(a.successHandler).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a.actorID,input:e})});c.send();b("BanzaiODS").bumpEntityKey(2966,"webgraphml_publish","hit")},"ReactFeedSproutsComposerXStoryPost")}};e.exports=a}),null);
__d("UFI2ReactionsLinkStandalone.react",["FBLogger","React","ReactDOM","RelayAPIConfig","RelayModern","RelayUFI2Environment","UFI2ReactionActionLink.react","UFIVideoPlayerRegistry","XUISpinner.react","UFI2ReactionsLinkStandaloneQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){var c=a.error;a=a.props;if(c)return null;if(a==null)return h.jsx(b("XUISpinner.react"),{className:d.props.spinnerClassName,size:"small"});var e=a.feedback;if(!e){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.queryVariables.feedbackTargetID||"UNKNOWN").warn("Query is missing feedback data.");return null}return h.jsx(b("UFI2ReactionActionLink.react"),{className:d.props.className,feedback:e,feedbackSource:d.props.feedbackSource,filled:!0,inverse:d.props.inverse,mutationInputAugmenter:function(a){return d.$1(e,a)},reactionIconClassName:d.props.reactionIconClassName,useDefaultActor:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,b){if(b.feedback_reaction===0)return b;var c=this.$2(a);if(c!=null){return babelHelpers["extends"]({},b,{time_anchor:{time:c,type:((c=a.associated_video)==null?void 0:c.is_live_streaming)===!0?"LIVE_VIDEO":"ON_DEMAND_VIDEO"}})}return b};d.$2=function(a){a=(a=a.associated_video)==null?void 0:a.id;var c=b("ReactDOM").findDOMNode(this);if(a==null||!(c instanceof Element))return;c=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(c,a);if(c==null)return;return Math.floor(c)};d.render=function(){var a=this.props.queryVariables;return h.jsx(i,{environment:b("RelayUFI2Environment").forActor(b("RelayAPIConfig").actorID),fetchPolicy:"store-and-network",query:c.query,render:this.$3,variables:babelHelpers["extends"]({},a)})};return c}(h.Component);a.query=g!==void 0?g:g=b("UFI2ReactionsLinkStandaloneQuery.graphql");e.exports=a}),null);
__d("UFI2ReactionsLinkStandaloneWhenVisible.react",["OnVisible.react","React","UFI2ReactionsLinkStandalone.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={wasEverVisible:!1},c.$1=function(){c.setState({wasEverVisible:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.state.wasEverVisible?g.jsx(b("UFI2ReactionsLinkStandalone.react"),babelHelpers["extends"]({},this.props)):g.jsx(b("OnVisible.react"),{onVisible:this.$1,children:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("createUFI2DelightsComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2DelightsComposerPlugin",function(b){return b(a)},function(){return null})},d.$1=!1,d.$2=function(a){d.$3(),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2DelightsComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2DelightsComposerPlugin"))};f.componentDidMount=function(){var a=this;this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$3()}))};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.render=function(){if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);